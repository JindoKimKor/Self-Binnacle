
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Post-refactoring analysis - Transform intuitive problem-solving into systematic knowledge">
      
      
        <meta name="author" content="Jindo Kim">
      
      
      
        <link rel="prev" href="../detailed-analysis/">
      
      
        <link rel="next" href="../DRY-violation-analysis/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Baseline Snapshot - Software Smells Analysis & Architecture Redesign</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#baseline-technical-snapshot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Software Smells Analysis &amp; Architecture Redesign" class="md-header__button md-logo" aria-label="Software Smells Analysis & Architecture Redesign" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Software Smells Analysis & Architecture Redesign
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Baseline Snapshot
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Software Smells Analysis &amp; Architecture Redesign" class="md-nav__button md-logo" aria-label="Software Smells Analysis & Architecture Redesign" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Software Smells Analysis & Architecture Redesign
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Part 1 - What (Results)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Part 1 - What (Results)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../highlights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Highlights
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logger-system-design-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logger System Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pull-request-documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pull Request Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Part 2 - Why (Problems)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Part 2 - Why (Problems)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../problem-analysis-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../detailed-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Problem Analysis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Baseline Snapshot
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Baseline Snapshot
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      
        Table of Contents
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-code-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Code Statistics
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-file-structure-27-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. File Structure (27 files)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-domain-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Domain Analysis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-architecture-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Architecture Analysis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-folder-by-folder-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Folder-by-Folder Analysis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-critical-problems" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Critical Problems
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-code-duplication-analysis-detailed" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Code Duplication Analysis (Detailed)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-dependency-graph" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Dependency Graph
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-technical-debt-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Technical Debt Summary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-summary-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Summary Table
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-key-issues-for-refactoring" class="md-nav__link">
    <span class="md-ellipsis">
      
        11. Key Issues for Refactoring
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DRY-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DRY Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pipeline Sequence Diagrams
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pipeline Sequence Diagrams
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline-sequence-diagrams/dlx-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DLXJenkins/Jenkinsfile (CI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline-sequence-diagrams/dlx-cd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DLXJenkins/JenkinsfileDeployment (CD)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline-sequence-diagrams/js-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JsJenkins/Jenkinsfile (CI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline-sequence-diagrams/js-cd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JsJenkins/JenkinsfileDeployment (CD)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline-sequence-diagrams/jenkins-ci/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PipelineForJenkins/Jenkinsfile (CI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    File Analysis
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    File Analysis
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_1" >
        
          
          <label class="md-nav__link" for="__nav_3_6_1" id="__nav_3_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    generalHelper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    generalHelper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-generalHelper/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-generalHelper/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../01-generalHelper/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_2" >
        
          
          <label class="md-nav__link" for="__nav_3_6_2" id="__nav_3_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    jsHelper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    jsHelper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-jsHelper/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-jsHelper/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02-jsHelper/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_3" >
        
          
          <label class="md-nav__link" for="__nav_3_6_3" id="__nav_3_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    unityHelper
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    unityHelper
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-unityHelper/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-unityHelper/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03-unityHelper/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_4" >
        
          
          <label class="md-nav__link" for="__nav_3_6_4" id="__nav_3_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    DLXJenkins-Jenkinsfile
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    DLXJenkins-Jenkinsfile
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-DLXJenkins-Jenkinsfile/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-DLXJenkins-Jenkinsfile/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../04-DLXJenkins-Jenkinsfile/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_5" >
        
          
          <label class="md-nav__link" for="__nav_3_6_5" id="__nav_3_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    DLXJenkins-Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    DLXJenkins-Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-DLXJenkins-JenkinsfileDeployment/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-DLXJenkins-JenkinsfileDeployment/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../05-DLXJenkins-JenkinsfileDeployment/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6_6" id="__nav_3_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    JsJenkins-Jenkinsfile
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    JsJenkins-Jenkinsfile
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-JsJenkins-Jenkinsfile/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-JsJenkins-Jenkinsfile/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../06-JsJenkins-Jenkinsfile/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_7" >
        
          
          <label class="md-nav__link" for="__nav_3_6_7" id="__nav_3_6_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    JsJenkins-Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    JsJenkins-Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-JsJenkins-JenkinsfileDeployment/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-JsJenkins-JenkinsfileDeployment/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../07-JsJenkins-JenkinsfileDeployment/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_8" >
        
          
          <label class="md-nav__link" for="__nav_3_6_8" id="__nav_3_6_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    PipelineForJenkins
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    PipelineForJenkins
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-PipelineForJenkins-Jenkinsfile/srp-violation-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SRP Violations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-PipelineForJenkins-Jenkinsfile/software-smells-analysis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../08-PipelineForJenkins-Jenkinsfile/design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/01-code-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/02a-design-smells-symptoms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells (Symptoms)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/02b-design-smells-principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Smells (Principles)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/03-architecture-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/04-anti-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Anti-Patterns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/05-implementation-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Implementation Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/06-test-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/07-configuration-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/08-database-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/09-performance-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/10-grammar-smells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grammar Smells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../legs/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Part 3 - How (Process)
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Part 3 - How (Process)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legs/refactoring-result-snapshot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture Snapshot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legs/leg-0-global-trusted-shared-library-setup/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leg 0 - Library Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legs/leg-1-shellscript-modularization-and-initialization-stage/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leg 1 - Shell Modularization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legs/leg-2-3-level-logger-system-implementation/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leg 2 - Logger System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legs/leg-3-bitbucket-api-and-shell-library-integration/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leg 3 - Bitbucket API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../legs/leg-4-full-pipeline-refactoring-and-stage-modularization/changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Leg 4 - Full Refactoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="baseline-technical-snapshot">Baseline Technical Snapshot</h1>
<blockquote>
<p><strong>Note</strong>: This document was analyzed based on commit <code>54479b2</code>.</p>
<p>Other documents in <code>problem-analysis/</code> use commit <code>74fc356</code> as the baseline.</p>
<p><strong>Difference in analysis direction</strong>:
- <strong>This document</strong>: Focused on code statistics, file structure, technical state
- <strong>problem-analysis/</strong>: Problem analysis based on Software Smells classification system</p>
</blockquote>
<hr />
<p><strong>Commit</strong>: <code>54479b2</code> (2025-02-21) - "emergency fixed"</p>
<p>This document provides a comprehensive analysis of the codebase state before the architectural refactoring.</p>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#1-code-statistics">Code Statistics</a></li>
<li><a href="#2-file-structure-27-files">File Structure</a></li>
<li><a href="#3-domain-analysis">Domain Analysis</a></li>
<li><a href="#4-architecture-analysis">Architecture Analysis</a></li>
<li><a href="#5-folder-by-folder-analysis">Folder-by-Folder Analysis</a></li>
<li><a href="#6-critical-problems">Critical Problems</a></li>
<li><a href="#7-code-duplication-analysis-detailed">Code Duplication Analysis (Detailed)</a></li>
<li><a href="#8-dependency-graph">Dependency Graph</a></li>
<li><a href="#9-technical-debt-summary">Technical Debt Summary</a></li>
<li><a href="#10-summary-table">Summary Table</a></li>
<li><a href="#11-key-issues-for-refactoring">Key Issues for Refactoring</a></li>
</ol>
<hr />
<h2 id="1-code-statistics">1. Code Statistics</h2>
<h3 id="11-total-lines-by-category">1.1 Total Lines by Category</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Files</th>
<th>Lines</th>
<th>Percentage</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Jenkinsfiles</strong></td>
<td>5</td>
<td>1,239</td>
<td>33.1%</td>
</tr>
<tr>
<td><strong>Groovy Helpers</strong></td>
<td>3</td>
<td>1,148</td>
<td>30.6%</td>
</tr>
<tr>
<td><strong>Python Scripts</strong></td>
<td>9</td>
<td>749</td>
<td>20.0%</td>
</tr>
<tr>
<td><strong>Bash Scripts</strong></td>
<td>2</td>
<td>330</td>
<td>8.8%</td>
</tr>
<tr>
<td><strong>Tests</strong></td>
<td>2</td>
<td>84</td>
<td>2.2%</td>
</tr>
<tr>
<td><strong>Config/Other</strong></td>
<td>6</td>
<td>195</td>
<td>5.2%</td>
</tr>
<tr>
<td><strong>TOTAL</strong></td>
<td><strong>27</strong></td>
<td><strong>3,745</strong></td>
<td>100%</td>
</tr>
</tbody>
</table>
<h3 id="12-detailed-line-counts">1.2 Detailed Line Counts</h3>
<h4 id="jenkinsfiles-1239-lines">Jenkinsfiles (1,239 lines)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>249</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>242</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>198</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>372</td>
</tr>
<tr>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>178</td>
</tr>
</tbody>
</table>
<h4 id="groovy-helpers-1148-lines">Groovy Helpers (1,148 lines)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>groovy/generalHelper.groovy</td>
<td>403</td>
</tr>
<tr>
<td>groovy/jsHelper.groovy</td>
<td>408</td>
</tr>
<tr>
<td>groovy/unityHelper.groovy</td>
<td>337</td>
</tr>
</tbody>
</table>
<h4 id="python-scripts-749-lines">Python Scripts (749 lines)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>python/linting_error_report.py</td>
<td>203</td>
</tr>
<tr>
<td>python/create_bitbucket_test_report.py</td>
<td>152</td>
</tr>
<tr>
<td>python/npm_audit.py</td>
<td>137</td>
</tr>
<tr>
<td>python/send_bitbucket_build_status.py</td>
<td>64</td>
</tr>
<tr>
<td>python/create_log_report.py</td>
<td>56</td>
</tr>
<tr>
<td>python/get_bitbucket_commit_hash.py</td>
<td>38</td>
</tr>
<tr>
<td>python/get_unity_version.py</td>
<td>34</td>
</tr>
<tr>
<td>python/get_unity_failure.py</td>
<td>26</td>
</tr>
<tr>
<td>python/log-template/logs.html</td>
<td>39</td>
</tr>
</tbody>
</table>
<h4 id="tests-84-lines">Tests (84 lines)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>tests/JsHelperSpec.groovy</td>
<td>66</td>
</tr>
<tr>
<td>tests/GeneralHelperSpec.groovy</td>
<td>18</td>
</tr>
</tbody>
</table>
<h4 id="other-files-525-lines">Other Files (525 lines)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bash/.editorconfig</td>
<td>264</td>
</tr>
<tr>
<td>Bash/Linting.bash</td>
<td>66</td>
</tr>
<tr>
<td>PipelineForJenkins/.groovylintrc.groovy.json</td>
<td>43</td>
</tr>
<tr>
<td>PipelineForJenkins/.groovylintrc.jenkins.json</td>
<td>19</td>
</tr>
<tr>
<td>.gitignore</td>
<td>51</td>
</tr>
<tr>
<td>build.gradle</td>
<td>42</td>
</tr>
<tr>
<td>Builder.cs</td>
<td>36</td>
</tr>
<tr>
<td>logErrors.txt</td>
<td>4</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2-file-structure-27-files">2. File Structure (27 files)</h2>
<div class="highlight"><pre><span></span><code>54479b2/
├── .gitignore
├── build.gradle                          # Gradle build configuration
├── Builder.cs                            # Unity WebGL build script
├── logErrors.txt                         # Error log file
│
├── DLXJenkins/                           # Unity Project Pipeline
│   ├── Jenkinsfile                       # PR Pipeline (249 lines)
│   └── JenkinsfileDeployment             # Deployment Pipeline (242 lines)
│
├── JsJenkins/                            # JavaScript Project Pipeline
│   ├── Jenkinsfile                       # PR Pipeline (198 lines)
│   └── JenkinsfileDeployment             # Deployment Pipeline (372 lines)
│
├── PipelineForJenkins/                   # Jenkins Self Pipeline
│   ├── Jenkinsfile                       # (178 lines)
│   ├── .groovylintrc.groovy.json         # Groovy lint config
│   └── .groovylintrc.jenkins.json        # Jenkins lint config
│
├── groovy/                               # Helper Scripts
│   ├── generalHelper.groovy              # Common utilities (403 lines)
│   ├── unityHelper.groovy                # Unity-specific (337 lines)
│   └── jsHelper.groovy                   # JavaScript-specific (408 lines)
│
├── Bash/
│   ├── .editorconfig                     # Editor configuration
│   └── Linting.bash                      # dotnet format linting script
│
├── python/                               # Python Scripts
│   ├── send_bitbucket_build_status.py    # Send build status
│   ├── create_bitbucket_test_report.py   # Send test report
│   ├── create_log_report.py              # Generate log report
│   ├── get_bitbucket_commit_hash.py      # Get commit hash
│   ├── get_unity_failure.py              # Analyze Unity failures
│   ├── get_unity_version.py              # Get Unity version
│   ├── linting_error_report.py           # Linting error report
│   ├── npm_audit.py                      # npm security audit
│   └── log-template/logs.html            # Log HTML template
│
└── tests/                                # Tests
    ├── GeneralHelperSpec.groovy          # generalHelper tests
    └── JsHelperSpec.groovy               # jsHelper tests
</code></pre></div>
<hr />
<h2 id="3-domain-analysis">3. Domain Analysis</h2>
<h3 id="31-project-types">3.1 Project Types</h3>
<table>
<thead>
<tr>
<th>Domain</th>
<th>Pipeline Files</th>
<th>Helper</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Unity Project</strong></td>
<td>DLXJenkins/Jenkinsfile, JenkinsfileDeployment</td>
<td>unityHelper.groovy</td>
</tr>
<tr>
<td><strong>JavaScript Project</strong></td>
<td>JsJenkins/Jenkinsfile, JenkinsfileDeployment</td>
<td>jsHelper.groovy</td>
</tr>
<tr>
<td><strong>Jenkins Pipeline Project</strong></td>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>generalHelper.groovy</td>
</tr>
</tbody>
</table>
<h3 id="32-pipeline-types">3.2 Pipeline Types</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Trigger</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PR Pipeline</strong></td>
<td><code>PR_STATE = 'OPEN'</code></td>
<td>Pull Request validation (tests, linting, static analysis)</td>
</tr>
<tr>
<td><strong>Deployment Pipeline</strong></td>
<td><code>PR_STATE = 'MERGED'</code></td>
<td>Deployment (branch cleanup, build, server deployment)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="4-architecture-analysis">4. Architecture Analysis</h2>
<h3 id="41-current-architecture-flatmonolithic">4.1 Current Architecture: Flat/Monolithic</h3>
<pre class="mermaid"><code>flowchart TB
    subgraph Jenkinsfile["Jenkinsfile Layer"]
        direction TB
        J1["Pipeline declaration"]
        J2["Stage definitions"]
        J3["Business logic (inline)"]
        J4["Error handling (inline)"]
        J5["Logging (inline echo)"]
    end

    subgraph Helper["groovy/*Helper.groovy Layer"]
        direction TB
        H1["Git operations (functions)"]
        H2["API calls (Python wrapper)"]
        H3["Utility functions"]
        H4["Each file 400+ lines (everything mixed)"]
    end

    subgraph Python["python/*.py Layer"]
        direction TB
        P1["Bitbucket API calls"]
        P2["XML parsing"]
        P3["Report generation"]
    end

    Jenkinsfile --&gt;|"load()"| Helper
    Helper --&gt;|"sh(python...)"| Python</code></pre>
<h3 id="42-layer-analysis">4.2 Layer Analysis</h3>
<p><strong>Only 2 effective layers exist:</strong></p>
<ol>
<li><strong>Jenkinsfile Layer</strong>: Pipeline definition + business logic mixed</li>
<li><strong>Helper Layer</strong>: groovy/<em>.groovy + python/</em>.py (Flat structure)</li>
</ol>
<p><strong>Inter-layer dependencies:</strong></p>
<pre class="mermaid"><code>flowchart LR
    A[Jenkinsfile] --&gt;|"load()"| B[groovy/*Helper.groovy]
    B --&gt;|"sh(python)"| C[python/*.py]</code></pre>
<hr />
<h2 id="5-folder-by-folder-analysis">5. Folder-by-Folder Analysis</h2>
<h3 id="51-dlxjenkins-unity-pipeline">5.1 DLXJenkins/ (Unity Pipeline)</h3>
<h4 id="jenkinsfile-249-lines">Jenkinsfile (249 lines)</h4>
<div class="highlight"><pre><span></span><code><span class="c1">// Problem 1: All logic inline</span>
<span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Prepare WORKSPACE&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">dir</span><span class="w"> </span><span class="o">(</span><span class="s2">&quot;${PROJECT_DIR}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;env&#39;</span>
<span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">generalUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/generalHelper.groovy&quot;</span><span class="o">)</span>
<span class="w">                    </span><span class="n">unityUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/unityHelper.groovy&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="o">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">error</span><span class="w"> </span><span class="s2">&quot;Failed to load Groovy scripts: ${e.message}&quot;</span>
<span class="w">                </span><span class="o">}</span>
<span class="w">                </span><span class="c1">// ... 30+ lines of logic</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Problem 2: Duplicated patterns repeated in every stage</span>
<span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Linting&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${REPORT_DIR}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;mkdir -p linting_results&#39;</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;cp -f &#39;${env.WORKSPACE}/Bash/.editorconfig&#39; &#39;${PROJECT_DIR}&#39;&quot;</span>
<span class="w">            </span><span class="kt">def</span><span class="w"> </span><span class="n">exitCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sh</span><span class="w"> </span><span class="nl">script:</span><span class="w"> </span><span class="s2">&quot;sh &#39;${env.WORKSPACE}/Bash/Linting.bash&#39;...&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">returnStatus:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">            </span><span class="c1">// ... 20+ lines of error handling</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p><strong>Problems:</strong>
- Stage logic written inline in Jenkinsfile
- Same patterns duplicated in JenkinsfileDeployment
- Structure not amenable to testing</p>
<h4 id="jenkinsfiledeployment-242-lines">JenkinsfileDeployment (242 lines)</h4>
<ul>
<li>70%+ code duplication with Jenkinsfile</li>
<li>Only deployment-specific logic added</li>
</ul>
<hr />
<h3 id="52-jsjenkins-javascript-pipeline">5.2 JsJenkins/ (JavaScript Pipeline)</h3>
<h4 id="characteristics">Characteristics</h4>
<ul>
<li>Same structure as DLXJenkins but uses jsHelper</li>
<li>Includes Azure Container Registry deployment logic</li>
<li>Includes SonarQube static analysis</li>
</ul>
<h4 id="problems">Problems</h4>
<div class="highlight"><pre><span></span><code><span class="c1">// Almost identical code repeated from DLXJenkins</span>
<span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Prepare WORKSPACE&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${PROJECT_DIR}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;env&#39;</span>
<span class="w">                </span><span class="n">generalUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/generalHelper.groovy&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="n">jsUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/jsHelper.groovy&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="c1">// ... same pattern</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<hr />
<h3 id="53-groovy-helper-scripts">5.3 groovy/ (Helper Scripts)</h3>
<h4 id="generalhelpergroovy-403-lines">generalHelper.groovy (403 lines)</h4>
<p><strong>Functions included (mixed):</strong>
1. <strong>Git operations</strong>: cloneOrUpdateRepo, checkoutBranch, mergeBranchIfNeeded, isBranchUpToDateWithRemote
2. <strong>Environment setup</strong>: initializeEnvironment, parseTicketNumber
3. <strong>API calls</strong>: sendBuildStatus (Python wrapper)
4. <strong>Server deployment</strong>: publishTestResultsHtmlToWebServer, cleanMergedBranchReportsFromWebServer
5. <strong>File cleanup</strong>: cleanUpPRBranch, closeLogfiles</p>
<p><strong>Problems:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// Problem 1: All functionality mixed in one file</span>
<span class="kt">def</span><span class="w"> </span><span class="nf">cloneOrUpdateRepo</span><span class="o">(...)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">// Git logic</span>
<span class="o">}</span>
<span class="kt">def</span><span class="w"> </span><span class="nf">sendBuildStatus</span><span class="o">(...)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">// Python script call</span>
<span class="w">    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;python &#39;${workspace}/python/send_bitbucket_build_status.py&#39;...&quot;</span>
<span class="o">}</span>
<span class="kt">def</span><span class="w"> </span><span class="nf">publishTestResultsHtmlToWebServer</span><span class="o">(...)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">// SSH/SCP commands</span>
<span class="o">}</span>

<span class="c1">// Problem 2: Duplicated shell commands</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git reset --hard&#39;</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git clean -fd&#39;</span>
<span class="n">sh</span><span class="w"> </span><span class="s2">&quot;git checkout ${targetBranch}&quot;</span>
<span class="c1">// Repeated in multiple functions</span>

<span class="c1">// Problem 3: Inconsistent error handling</span>
<span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s2">&quot;An error occurred: ${e.getMessage()}&quot;</span>
<span class="w">    </span><span class="n">error</span><span class="o">(</span><span class="s1">&#39;Merge process failed.&#39;</span><span class="o">)</span>
<span class="o">}</span>
<span class="c1">// vs</span>
<span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">error</span><span class="o">(</span><span class="s2">&quot;Failed to execute: ${e.message}&quot;</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="unityhelpergroovy-337-lines">unityHelper.groovy (337 lines)</h4>
<p><strong>Functions included:</strong>
- Unity Batch Mode execution
- Test report generation
- Code Coverage configuration</p>
<p><strong>Problems:</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// Problem: Giant functions (100+ lines)</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">runUnityBatchMode</span><span class="o">(</span><span class="n">String</span><span class="w"> </span><span class="n">unityExecutable</span><span class="o">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">projectDirectory</span><span class="o">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">reportDirectory</span><span class="o">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">stageName</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="c1">// Closure definitions</span>
<span class="w">    </span><span class="n">Closure</span><span class="w"> </span><span class="n">setLogFilePathAndUrl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="n">Closure</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getTestRunArgs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="n">Closure</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">getAdditionalArgs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">}</span>

<span class="w">    </span><span class="c1">// All stages handled in one function</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">([</span><span class="s1">&#39;EditMode&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;PlayMode&#39;</span><span class="o">].</span><span class="na">contains</span><span class="o">(</span><span class="n">stageName</span><span class="o">))</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">stageName</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;Coverage&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">([</span><span class="s1">&#39;Webgl&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;Rider&#39;</span><span class="o">].</span><span class="na">contains</span><span class="o">(</span><span class="n">stageName</span><span class="o">))</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">...</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="c1">// ... 100+ lines</span>
<span class="o">}</span>
</code></pre></div></p>
<h4 id="jshelpergroovy-408-lines">jsHelper.groovy (408 lines)</h4>
<p><strong>Functions included:</strong>
- npm command execution
- SonarQube integration
- Azure Container deployment</p>
<p><strong>Problems:</strong>
- Same issues as generalHelper.groovy
- Duplicated OS branching logic (isUnix() checks)</p>
<hr />
<h3 id="54-python-api-scripts">5.4 python/ (API Scripts)</h3>
<h4 id="role">Role</h4>
<p>Handles HTTP API calls that are difficult to do directly in Groovy</p>
<h4 id="file-list">File List</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>send_bitbucket_build_status.py</td>
<td>Send build status to Bitbucket</td>
</tr>
<tr>
<td>create_bitbucket_test_report.py</td>
<td>Send test report</td>
</tr>
<tr>
<td>get_bitbucket_commit_hash.py</td>
<td>Get commit hash</td>
</tr>
<tr>
<td>linting_error_report.py</td>
<td>Linting error report</td>
</tr>
<tr>
<td>npm_audit.py</td>
<td>npm security audit</td>
</tr>
<tr>
<td>get_unity_failure.py</td>
<td>Analyze Unity failures</td>
</tr>
<tr>
<td>get_unity_version.py</td>
<td>Get Unity version</td>
</tr>
</tbody>
</table>
<p><strong>Problems:</strong>
<div class="highlight"><pre><span></span><code><span class="c1"># Problem 1: Groovy calling Python → complex dependency</span>
<span class="k">def</span><span class="w"> </span><span class="nf">sendBuildStatus</span><span class="p">(</span><span class="n">workspace</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">commitHash</span><span class="p">,</span> <span class="n">deployment</span> <span class="o">=</span> <span class="n">false</span><span class="p">,</span> <span class="n">javascript</span> <span class="o">=</span> <span class="n">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">pythonCommand</span> <span class="o">=</span> <span class="s2">&quot;python &#39;$</span><span class="si">{workspace}</span><span class="s2">/python/send_bitbucket_build_status.py&#39; &#39;$</span><span class="si">{commitHash}</span><span class="s2">&#39; &#39;$</span><span class="si">{state}</span><span class="s2">&#39;&quot;</span>
    <span class="n">sh</span><span class="p">(</span><span class="n">script</span><span class="p">:</span> <span class="n">pythonCommand</span><span class="p">,</span> <span class="n">returnStatus</span><span class="p">:</span> <span class="n">true</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1"># Problem 2: Debugging difficult on errors</span>
<span class="c1"># - Only exit code returned</span>
<span class="c1"># - Detailed error messages lost</span>
</code></pre></div></p>
<hr />
<h3 id="55-bash-shell-scripts">5.5 Bash/ (Shell Scripts)</h3>
<h4 id="lintingbash">Linting.bash</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># Script for C# project linting</span>
dotnet<span class="w"> </span>format<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$SOLUTION_FILE</span><span class="s2">&quot;</span><span class="w"> </span>--verify-no-changes
</code></pre></div>
<p><strong>Problems:</strong>
- Called directly from Jenkinsfile → difficult to test
- Error code interpretation done in Jenkinsfile</p>
<hr />
<h3 id="56-tests-test-files">5.6 tests/ (Test Files)</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// GeneralHelperSpec.groovy</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">GeneralHelperSpec</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Specification</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="kt">def</span><span class="w"> </span><span class="s2">&quot;parseTicketNumber should extract ticket numbers&quot;</span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="c1">// Only one function tested</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p><strong>Problems:</strong>
- Extremely low test coverage (only parseTicketNumber function)
- Most functions depend on Jenkins environment, cannot be tested</p>
<hr />
<h2 id="6-critical-problems">6. Critical Problems</h2>
<h3 id="61-impact-of-file-changes">6.1 Impact of File Changes</h3>
<h4 id="when-generalhelpergroovy-is-modified">When generalHelper.groovy is modified:</h4>
<pre class="mermaid"><code>flowchart TB
    GH[generalHelper.groovy]
    GH --&gt; D1[DLXJenkins/Jenkinsfile]
    GH --&gt; D2[DLXJenkins/JenkinsfileDeployment]
    GH --&gt; J1[JsJenkins/Jenkinsfile]
    GH --&gt; J2[JsJenkins/JenkinsfileDeployment]
    GH --&gt; P1[PipelineForJenkins/Jenkinsfile]</code></pre>
<p><strong>→ All 5 pipelines affected!</strong>
<strong>→ Risk of system-wide failure when deployed without testing</strong></p>
<h4 id="when-pythonsend_bitbucket_build_statuspy-is-modified">When python/send_bitbucket_build_status.py is modified:</h4>
<pre class="mermaid"><code>flowchart TB
    PY[send_bitbucket_build_status.py]
    PY --&gt; GH[generalHelper.sendBuildStatus]
    GH --&gt; D1[DLXJenkins/Jenkinsfile&lt;br/&gt;post success/failure]
    GH --&gt; D2[DLXJenkins/JenkinsfileDeployment&lt;br/&gt;post success/failure]
    GH --&gt; J1[JsJenkins/Jenkinsfile&lt;br/&gt;post success/failure]
    GH --&gt; J2[JsJenkins/JenkinsfileDeployment&lt;br/&gt;post success/failure]
    GH --&gt; P1[PipelineForJenkins/Jenkinsfile&lt;br/&gt;post success/failure]</code></pre>
<p><strong>→ Affects Bitbucket status updates for all pipelines!</strong></p>
<h3 id="62-code-duplication-overview">6.2 Code Duplication Overview</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Patterns repeated across 5 Jenkinsfiles</span>

<span class="c1">// Pattern 1: Helper loading (~10 lines × 5)</span>
<span class="n">generalUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/generalHelper.groovy&quot;</span><span class="o">)</span>

<span class="c1">// Pattern 2: Branch check (~15 lines × 5)</span>
<span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">generalUtil</span><span class="o">.</span><span class="na">isBranchUpToDateWithRemote</span><span class="o">(</span><span class="n">PR_BRANCH</span><span class="o">)...)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">currentBuild</span><span class="o">.</span><span class="na">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ABORTED&#39;</span>
<span class="w">    </span><span class="n">error</span><span class="o">(</span><span class="s1">&#39;Branch is up to date...&#39;</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// Pattern 3: Post actions (~20 lines × 5)</span>
<span class="n">post</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">success</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">sendBuildStatus</span><span class="o">(...,</span><span class="w"> </span><span class="s1">&#39;SUCCESSFUL&#39;</span><span class="o">...)</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="n">failure</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">sendBuildStatus</span><span class="o">(...,</span><span class="w"> </span><span class="s1">&#39;FAILED&#39;</span><span class="o">...)</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="n">aborted</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">sendBuildStatus</span><span class="o">(...,</span><span class="w"> </span><span class="s1">&#39;STOPPED&#39;</span><span class="o">...)</span><span class="w"> </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="63-testability-issues">6.3 Testability Issues</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Testable?</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jenkinsfile</td>
<td>No</td>
<td>Requires Jenkins environment</td>
</tr>
<tr>
<td>generalHelper.groovy</td>
<td>Partial (1 function only)</td>
<td>Depends on Jenkins APIs (sh, withCredentials, etc.)</td>
</tr>
<tr>
<td>unityHelper.groovy</td>
<td>No</td>
<td>Requires Jenkins + Unity environment</td>
</tr>
<tr>
<td>jsHelper.groovy</td>
<td>No</td>
<td>Requires Jenkins + Node.js environment</td>
</tr>
<tr>
<td>python/*.py</td>
<td>Partial</td>
<td>Requires environment variables + API tokens</td>
</tr>
</tbody>
</table>
<h3 id="64-logging-problems">6.4 Logging Problems</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Inconsistent echo usage</span>
<span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Identifying Unity version...&#39;</span>
<span class="n">echo</span><span class="w"> </span><span class="s2">&quot;Parameters for bash: ${env.WORKSPACE}/Linting.bash...&quot;</span>
<span class="n">echo</span><span class="w"> </span><span class="s2">&quot;After bash call, exit code: ${exitCode}&quot;</span>
<span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Error linting calling report&#39;</span>

<span class="c1">// Problems:</span>
<span class="c1">// 1. No Stage/Step distinction</span>
<span class="c1">// 2. Inconsistent format</span>
<span class="c1">// 3. Difficult to identify error location</span>
</code></pre></div>
<h3 id="65-inconsistent-error-handling">6.5 Inconsistent Error Handling</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Method 1: catch + echo + error</span>
<span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s2">&quot;An error occurred: ${e.getMessage()}&quot;</span>
<span class="w">    </span><span class="n">error</span><span class="o">(</span><span class="s1">&#39;Process failed.&#39;</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// Method 2: catch + error directly</span>
<span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">error</span><span class="w"> </span><span class="s2">&quot;Failed: ${e.message}&quot;</span>
<span class="o">}</span>

<span class="c1">// Method 3: catchError</span>
<span class="n">catchError</span><span class="o">(</span><span class="nl">buildResult:</span><span class="w"> </span><span class="s1">&#39;SUCCESS&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">stageResult:</span><span class="w"> </span><span class="s1">&#39;FAILURE&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">error</span><span class="o">(</span><span class="s2">&quot;Failed with exit code: ${exitCode}&quot;</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// Problems:</span>
<span class="c1">// - Stack trace lost</span>
<span class="c1">// - Difficult to trace where error occurred</span>
</code></pre></div>
<hr />
<h2 id="7-code-duplication-analysis-detailed">7. Code Duplication Analysis (Detailed)</h2>
<p>This section provides a comprehensive analysis of duplicated code patterns found across the codebase in commit 54479b2.</p>
<h3 id="duplication-definition">Duplication Definition</h3>
<p><strong>What IS counted as duplication:</strong>
- Structural patterns appearing in multiple files with similar/identical code
- Boilerplate code that could be extracted to shared modules
- Copy-paste patterns where same logic exists in different locations</p>
<p><strong>What is NOT counted:</strong>
- Project-specific configuration values (different env vars per project)
- Intentional variations (OPEN vs MERGED triggers)
- Single occurrences of any pattern</p>
<h3 id="71-duplication-summary">7.1 Duplication Summary</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Duplicated Lines</th>
<th>Base Lines</th>
<th>Percentage</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jenkinsfile Patterns</td>
<td>463</td>
<td>1,239</td>
<td>37.4%</td>
</tr>
<tr>
<td>Groovy Helper Patterns</td>
<td>106</td>
<td>1,148</td>
<td>9.2%</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td><strong>569</strong></td>
<td><strong>3,136</strong>*</td>
<td><strong>18.1%</strong></td>
</tr>
</tbody>
</table>
<p><em>*Base = Jenkinsfiles (1,239) + Groovy Helpers (1,148) + Python (749), excluding Tests (84) and Config (525)</em></p>
<h3 id="72-jenkinsfile-duplication-patterns">7.2 Jenkinsfile Duplication Patterns</h3>
<h4 id="pattern-1-parameters-block-47-lines-total">Pattern 1: Parameters Block (47 lines total)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>10</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>9</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>10</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>8</td>
</tr>
<tr>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>10</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">parameters</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_BRANCH&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_DESTINATION_BRANCH&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_REPO_HTML&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_REPO_NAME&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_COMMIT&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_PROJECT&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;PR_STATE&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">string</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;TEST_RUN&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">defaultValue:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">description:</span><span class="w"> </span><span class="s1">&#39;...&#39;</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="pattern-2-triggers-block-83-lines-total">Pattern 2: Triggers Block (83 lines total)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>17</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>17</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>17</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>16</td>
</tr>
<tr>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>16</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">triggers</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">GenericTrigger</span><span class="o">(</span>
<span class="w">        </span><span class="nl">genericVariables:</span><span class="w"> </span><span class="o">[</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_BRANCH&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.pullrequest.source.branch.name&#39;</span><span class="o">],</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_DESTINATION_BRANCH&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.pullrequest.destination.branch.name&#39;</span><span class="o">],</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_REPO_HTML&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.repository.links.self.href&#39;</span><span class="o">],</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_REPO_NAME&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.repository.name&#39;</span><span class="o">],</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_COMMIT&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.pullrequest.source.commit.hash&#39;</span><span class="o">],</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_PROJECT&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.repository.full_name&#39;</span><span class="o">],</span>
<span class="w">            </span><span class="o">[</span><span class="nl">key:</span><span class="w"> </span><span class="s1">&#39;PR_STATE&#39;</span><span class="o">,</span><span class="w"> </span><span class="nl">value:</span><span class="w"> </span><span class="s1">&#39;$.pullrequest.state&#39;</span><span class="o">]</span>
<span class="w">        </span><span class="o">],</span>
<span class="w">        </span><span class="nl">tokenCredentialId:</span><span class="w"> </span><span class="s1">&#39;trigger-token&#39;</span><span class="o">,</span>
<span class="w">        </span><span class="nl">regexpFilterText:</span><span class="w"> </span><span class="s1">&#39;$PR_STATE&#39;</span><span class="o">,</span>
<span class="w">        </span><span class="nl">regexpFilterExpression:</span><span class="w"> </span><span class="s1">&#39;OPEN&#39;</span><span class="w">  </span><span class="c1">// or &#39;MERGED&#39; for deployment</span>
<span class="w">    </span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="pattern-3-environment-block-63-lines-total">Pattern 3: Environment Block (63 lines total)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>11</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>10</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>16</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>14</td>
</tr>
<tr>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>12</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">environment</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">CI_PIPELINE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;true&#39;</span>
<span class="w">    </span><span class="n">PROJECT_TYPE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Unity_Project&#39;</span>
<span class="w">    </span><span class="n">PROJECT_DIR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${env.WORKSPACE}/${PROJECT_TYPE}&quot;</span>
<span class="w">    </span><span class="n">REPORT_DIR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${env.WORKSPACE}/PRJob/${PR_BRANCH}&quot;</span>
<span class="w">    </span><span class="n">JOB_REPO</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${PR_REPO_HTML}&quot;</span>
<span class="w">    </span><span class="n">BITBUCKET_ACCESS_TOKEN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">credentials</span><span class="o">(</span><span class="s1">&#39;bitbucket-access-token&#39;</span><span class="o">)</span>
<span class="w">    </span><span class="n">REPO_SSH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;git@bitbucket.org:${PR_PROJECT}.git&quot;</span>
<span class="w">    </span><span class="n">DESTINATION_BRANCH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${PR_DESTINATION_BRANCH}&quot;</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="pattern-4-post-actions-block-119-lines-total">Pattern 4: Post Actions Block (119 lines total)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>24</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>24</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>23</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>23</td>
</tr>
<tr>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>25</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">post</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">always</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Returning to the main branch...&#39;</span>
<span class="w">            </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">checkoutBranch</span><span class="o">(</span><span class="n">PROJECT_DIR</span><span class="o">,</span><span class="w"> </span><span class="n">DESTINATION_BRANCH</span><span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">success</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">sendBuildStatus</span><span class="o">(</span><span class="n">env</span><span class="o">.</span><span class="na">WORKSPACE</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;SUCCESSFUL&#39;</span><span class="o">,</span><span class="w"> </span><span class="n">env</span><span class="o">.</span><span class="na">COMMIT_HASH</span><span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">failure</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">sendBuildStatus</span><span class="o">(</span><span class="n">env</span><span class="o">.</span><span class="na">WORKSPACE</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;FAILED&#39;</span><span class="o">,</span><span class="w"> </span><span class="n">env</span><span class="o">.</span><span class="na">COMMIT_HASH</span><span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">aborted</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">sendBuildStatus</span><span class="o">(</span><span class="n">env</span><span class="o">.</span><span class="na">WORKSPACE</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;STOPPED&#39;</span><span class="o">,</span><span class="w"> </span><span class="n">env</span><span class="o">.</span><span class="na">COMMIT_HASH</span><span class="o">)</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="pattern-5-prepare-workspace-stage-151-lines-total">Pattern 5: Prepare WORKSPACE Stage (151 lines total)</h4>
<p>Each Jenkinsfile has a similar 'Prepare WORKSPACE' stage that includes helper loading, branch checks, environment initialization, and repository setup:</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>35</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>28</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>33</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>30</td>
</tr>
<tr>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>25</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Prepare WORKSPACE&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">dir</span><span class="o">(</span><span class="s2">&quot;${PROJECT_DIR}&quot;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">script</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;env&#39;</span>
<span class="w">                </span><span class="k">try</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">generalUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/generalHelper.groovy&quot;</span><span class="o">)</span>
<span class="w">                    </span><span class="n">unityUtil</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="o">(</span><span class="s2">&quot;${env.WORKSPACE}/groovy/unityHelper.groovy&quot;</span><span class="o">)</span>
<span class="w">                </span><span class="o">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">error</span><span class="w"> </span><span class="s2">&quot;Failed to load Groovy scripts: ${e.message}&quot;</span>
<span class="w">                </span><span class="o">}</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">generalUtil</span><span class="o">.</span><span class="na">isBranchUpToDateWithRemote</span><span class="o">(</span><span class="n">PR_BRANCH</span><span class="o">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">!</span><span class="n">TEST_RUN</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s1">&#39;Y&#39;</span><span class="o">))</span><span class="w"> </span><span class="o">{</span>
<span class="w">                    </span><span class="n">echo</span><span class="w"> </span><span class="s1">&#39;Local branch commit is up to date with remote branch, no changes. Aborting pipeline.&#39;</span>
<span class="w">                    </span><span class="n">currentBuild</span><span class="o">.</span><span class="na">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ABORTED&#39;</span>
<span class="w">                    </span><span class="n">error</span><span class="o">(</span><span class="s1">&#39;Branch is up to date, no changes.&#39;</span><span class="o">)</span>
<span class="w">                </span><span class="o">}</span>

<span class="w">                </span><span class="n">env</span><span class="o">.</span><span class="na">COMMIT_HASH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">getFullCommitHash</span><span class="o">(</span><span class="n">env</span><span class="o">.</span><span class="na">WORKSPACE</span><span class="o">,</span><span class="w"> </span><span class="n">PR_COMMIT</span><span class="o">)</span>
<span class="w">                </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">initializeEnvironment</span><span class="o">(</span><span class="n">env</span><span class="o">.</span><span class="na">WORKSPACE</span><span class="o">,</span><span class="w"> </span><span class="n">env</span><span class="o">.</span><span class="na">COMMIT_HASH</span><span class="o">,</span><span class="w"> </span><span class="n">PR_BRANCH</span><span class="o">)</span>
<span class="w">                </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">cloneOrUpdateRepo</span><span class="o">(</span><span class="n">PROJECT_TYPE</span><span class="o">,</span><span class="w"> </span><span class="n">env</span><span class="o">.</span><span class="na">WORKSPACE</span><span class="o">,</span><span class="w"> </span><span class="n">PROJECT_DIR</span><span class="o">,</span><span class="w"> </span><span class="n">REPO_SSH</span><span class="o">,</span><span class="w"> </span><span class="n">PR_BRANCH</span><span class="o">)</span>
<span class="w">                </span><span class="n">generalUtil</span><span class="o">.</span><span class="na">mergeBranchIfNeeded</span><span class="o">()</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p><strong>Jenkinsfile Total: 47 + 83 + 63 + 119 + 151 = 463 lines</strong></p>
<h3 id="73-groovy-helper-duplication-patterns">7.3 Groovy Helper Duplication Patterns</h3>
<h4 id="pattern-6-git-command-sequences-24-lines-in-generalhelpergroovy">Pattern 6: Git Command Sequences (24 lines in generalHelper.groovy)</h4>
<p>12 git shell commands repeated across multiple functions:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Found in generalHelper.groovy - repeated in cloneOrUpdateRepo(), checkoutBranch(), mergeBranchIfNeeded()</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git reset --hard&#39;</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git clean -fd&#39;</span>
<span class="n">sh</span><span class="w"> </span><span class="s2">&quot;git checkout ${targetBranch}&quot;</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git pull origin&#39;</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git fetch origin&#39;</span>
<span class="n">sh</span><span class="w"> </span><span class="s1">&#39;git branch --show-current&#39;</span>
</code></pre></div>
<h4 id="pattern-7-python-script-wrapper-calls-16-lines-in-generalhelpergroovy">Pattern 7: Python Script Wrapper Calls (16 lines in generalHelper.groovy)</h4>
<p>8 Python wrapper calls using same pattern:</p>
<div class="highlight"><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="nf">sendBuildStatus</span><span class="o">(</span><span class="n">workspace</span><span class="o">,</span><span class="w"> </span><span class="n">state</span><span class="o">,</span><span class="w"> </span><span class="n">commitHash</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="kt">def</span><span class="w"> </span><span class="n">pythonCommand</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;python &#39;${workspace}/python/send_bitbucket_build_status.py&#39; &#39;${commitHash}&#39; &#39;${state}&#39;&quot;</span>
<span class="w">    </span><span class="n">sh</span><span class="o">(</span><span class="nl">script:</span><span class="w"> </span><span class="n">pythonCommand</span><span class="o">,</span><span class="w"> </span><span class="nl">returnStatus:</span><span class="w"> </span><span class="kc">true</span><span class="o">)</span>
<span class="o">}</span>
<span class="c1">// Similar calls for: create_bitbucket_test_report.py, get_unity_version.py, linting_error_report.py, etc.</span>
</code></pre></div>
<h4 id="pattern-8-error-handling-patterns-24-lines-in-generalhelpergroovy">Pattern 8: Error Handling Patterns (24 lines in generalHelper.groovy)</h4>
<p>8 inconsistent error handling blocks:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Version 1</span>
<span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">echo</span><span class="w"> </span><span class="s2">&quot;An error occurred: ${e.getMessage()}&quot;</span>
<span class="w">    </span><span class="n">error</span><span class="o">(</span><span class="s1">&#39;Process failed.&#39;</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// Version 2</span>
<span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">error</span><span class="w"> </span><span class="s2">&quot;Failed: ${e.message}&quot;</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="pattern-9-isunix-branching-12-lines-in-jshelpergroovy">Pattern 9: isUnix() Branching (12 lines in jsHelper.groovy)</h4>
<p>2 OS branching blocks:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">isUnix</span><span class="o">())</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">sh</span><span class="w"> </span><span class="s2">&quot;command for unix&quot;</span>
<span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">bat</span><span class="w"> </span><span class="s2">&quot;command for windows&quot;</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="pattern-10-error-handling-in-jshelperunityhelper-30-lines">Pattern 10: Error Handling in jsHelper/unityHelper (30 lines)</h4>
<ul>
<li>jsHelper.groovy: 6 occurrences (18 lines)</li>
<li>unityHelper.groovy: 4 occurrences (12 lines)</li>
</ul>
<p><strong>Groovy Helper Total: 24 + 16 + 24 + 12 + 30 = 106 lines</strong></p>
<h3 id="74-cross-file-duplication-matrix">7.4 Cross-File Duplication Matrix</h3>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>DLX/JF</th>
<th>DLX/JFD</th>
<th>JS/JF</th>
<th>JS/JFD</th>
<th>Pipe/JF</th>
<th>generalH</th>
<th>unityH</th>
<th>jsH</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parameters Block</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Triggers Block</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Environment Block</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Post Actions</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Prepare WORKSPACE</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>Git Commands</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>isUnix() Branch</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td>Python Wrapper</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
</tr>
<tr>
<td>Error Handling</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr>
</tbody>
</table>
<p><em>Legend: JF=Jenkinsfile, JFD=JenkinsfileDeployment, H=Helper</em></p>
<h3 id="75-impact-of-duplication">7.5 Impact of Duplication</h3>
<table>
<thead>
<tr>
<th>Issue</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Maintenance Overhead</strong></td>
<td>Changes must be made in 5+ locations for common patterns</td>
</tr>
<tr>
<td><strong>Bug Propagation Risk</strong></td>
<td>Fixing a bug in one place doesn't fix copies elsewhere</td>
</tr>
<tr>
<td><strong>Inconsistent Behavior</strong></td>
<td>Small variations in copied code cause different behavior</td>
</tr>
<tr>
<td><strong>Testing Difficulty</strong></td>
<td>Same logic must be tested multiple times</td>
</tr>
<tr>
<td><strong>Code Review Burden</strong></td>
<td>Reviewers must verify consistency across all copies</td>
</tr>
</tbody>
</table>
<h3 id="76-deduplication-opportunities">7.6 Deduplication Opportunities</h3>
<table>
<thead>
<tr>
<th>Pattern</th>
<th>Current</th>
<th>After Refactoring</th>
<th>Reduction</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parameters Block</td>
<td>47 lines</td>
<td>10 lines (1 shared)</td>
<td>37 lines</td>
</tr>
<tr>
<td>Triggers Block</td>
<td>83 lines</td>
<td>17 lines (1 shared)</td>
<td>66 lines</td>
</tr>
<tr>
<td>Environment Block</td>
<td>63 lines</td>
<td>12 lines (1 shared)</td>
<td>51 lines</td>
</tr>
<tr>
<td>Post Actions Block</td>
<td>119 lines</td>
<td>25 lines (1 shared)</td>
<td>94 lines</td>
</tr>
<tr>
<td>Prepare WORKSPACE</td>
<td>151 lines</td>
<td>30 lines (1 shared)</td>
<td>121 lines</td>
</tr>
<tr>
<td>Git Commands</td>
<td>24 lines</td>
<td>6 lines (closures)</td>
<td>18 lines</td>
</tr>
<tr>
<td>Python Wrappers</td>
<td>16 lines</td>
<td>0 lines (HttpApiService)</td>
<td>16 lines</td>
</tr>
<tr>
<td>Error Handling</td>
<td>66 lines</td>
<td>10 lines (centralized)</td>
<td>56 lines</td>
</tr>
</tbody>
</table>
<p><strong>Total Potential Reduction: 459 lines (81% of duplicated code)</strong></p>
<h3 id="77-pipeline-specific-duplication-analysis">7.7 Pipeline-Specific Duplication Analysis</h3>
<p>This section analyzes file-level duplication between pipelines, revealing cross-project code sharing patterns.</p>
<h4 id="file-sizes-4-main-jenkinsfiles">File Sizes (4 Main Jenkinsfiles)</h4>
<table>
<thead>
<tr>
<th>File</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLXJenkins/Jenkinsfile</td>
<td>249</td>
</tr>
<tr>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>242</td>
</tr>
<tr>
<td>JsJenkins/Jenkinsfile</td>
<td>198</td>
</tr>
<tr>
<td>JsJenkins/JenkinsfileDeployment</td>
<td>372</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td><strong>1,061</strong></td>
</tr>
</tbody>
</table>
<h4 id="within-project-duplication-pr-vs-deployment">Within-Project Duplication (PR vs Deployment)</h4>
<p><strong>DLX Pipeline (Unity)</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total lines (both files)</td>
<td>491</td>
</tr>
<tr>
<td>Identical lines</td>
<td>146</td>
</tr>
<tr>
<td><strong>Duplication rate</strong></td>
<td><strong>29.7%</strong></td>
</tr>
</tbody>
</table>
<p><strong>JS Pipeline (JavaScript)</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total lines (both files)</td>
<td>570</td>
</tr>
<tr>
<td>Identical lines</td>
<td>156</td>
</tr>
<tr>
<td><strong>Duplication rate</strong></td>
<td><strong>27.4%</strong></td>
</tr>
</tbody>
</table>
<h4 id="cross-project-duplication-dlx-vs-js">Cross-Project Duplication (DLX vs JS)</h4>
<p><strong>PR Pipelines (DLX Jenkinsfile vs JS Jenkinsfile)</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLX Jenkinsfile</td>
<td>249 lines</td>
</tr>
<tr>
<td>JS Jenkinsfile</td>
<td>198 lines</td>
</tr>
<tr>
<td><strong>Identical lines</strong></td>
<td><strong>135</strong></td>
</tr>
<tr>
<td><strong>Duplication rate</strong></td>
<td><strong>54.2%</strong> (of smaller file)</td>
</tr>
</tbody>
</table>
<p><strong>Deployment Pipelines (DLX vs JS JenkinsfileDeployment)</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLX JenkinsfileDeployment</td>
<td>242 lines</td>
</tr>
<tr>
<td>JS JenkinsfileDeployment</td>
<td>372 lines</td>
</tr>
<tr>
<td><strong>Identical lines</strong></td>
<td><strong>167</strong></td>
</tr>
<tr>
<td><strong>Duplication rate</strong></td>
<td><strong>69.0%</strong> (of smaller file)</td>
</tr>
</tbody>
</table>
<h4 id="summary">Summary</h4>
<table>
<thead>
<tr>
<th>Comparison</th>
<th>Identical Lines</th>
<th>Rate</th>
</tr>
</thead>
<tbody>
<tr>
<td>DLX: PR vs Deployment</td>
<td>146</td>
<td>29.7%</td>
</tr>
<tr>
<td>JS: PR vs Deployment</td>
<td>156</td>
<td>27.4%</td>
</tr>
<tr>
<td><strong>DLX PR vs JS PR</strong></td>
<td><strong>135</strong></td>
<td><strong>54.2%</strong></td>
</tr>
<tr>
<td><strong>DLX Deploy vs JS Deploy</strong></td>
<td><strong>167</strong></td>
<td><strong>69.0%</strong></td>
</tr>
</tbody>
</table>
<h4 id="key-insight">Key Insight</h4>
<p><strong>Cross-project duplication (54-69%) is significantly higher than within-project duplication (27-30%)</strong></p>
<p>This reveals that:
1. DLX and JS pipelines share enormous amounts of identical code
2. Deployment pipelines are even more similar than PR pipelines
3. Refactoring to a Global Shared Library would eliminate this massive redundancy
4. The 569 lines (18.1%) from pattern-based analysis is a <strong>conservative estimate</strong></p>
<hr />
<h2 id="8-dependency-graph">8. Dependency Graph</h2>
<pre class="mermaid"><code>flowchart TB
    subgraph Jenkinsfiles["Jenkinsfiles (5 files)"]
        JF1[DLXJenkins/Jenkinsfile]
        JF2[DLXJenkins/JenkinsfileDeployment]
        JF3[JsJenkins/Jenkinsfile]
        JF4[JsJenkins/JenkinsfileDeployment]
        JF5[PipelineForJenkins/Jenkinsfile]
    end

    subgraph Helpers["groovy/*.groovy"]
        GH[generalHelper.groovy]
        UH[unityHelper.groovy]
        JH[jsHelper.groovy]
    end

    subgraph Python["python/*.py"]
        P1[send_bitbucket_build_status.py]
        P2[create_bitbucket_test_report.py]
        P3[get_unity_version.py]
        P4[...]
    end

    JF1 --&gt;|"load()"| GH
    JF1 --&gt;|"load()"| UH
    JF2 --&gt;|"load()"| GH
    JF2 --&gt;|"load()"| UH
    JF3 --&gt;|"load()"| GH
    JF3 --&gt;|"load()"| JH
    JF4 --&gt;|"load()"| GH
    JF4 --&gt;|"load()"| JH
    JF5 --&gt;|"load()"| GH

    GH --&gt;|"sh(python...)"| P1
    GH --&gt;|"sh(python...)"| P2
    UH --&gt;|"sh(python...)"| P3</code></pre>
<hr />
<h2 id="9-technical-debt-summary">9. Technical Debt Summary</h2>
<h3 id="91-code-metrics">9.1 Code Metrics</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total Files</td>
<td>27</td>
</tr>
<tr>
<td>Total Lines</td>
<td>3,745</td>
</tr>
<tr>
<td>Jenkinsfile Lines</td>
<td>1,239 lines (5 files)</td>
</tr>
<tr>
<td>Groovy Helper Lines</td>
<td>1,148 lines (3 files)</td>
</tr>
<tr>
<td>Python Scripts</td>
<td>749 lines (9 files)</td>
</tr>
<tr>
<td>Test Lines</td>
<td>84 lines (2 files)</td>
</tr>
<tr>
<td>Test Coverage</td>
<td>~1 function testable</td>
</tr>
</tbody>
</table>
<h3 id="92-duplication-analysis">9.2 Duplication Analysis</h3>
<table>
<thead>
<tr>
<th>Duplicated Pattern</th>
<th>Occurrences</th>
<th>Lines</th>
</tr>
</thead>
<tbody>
<tr>
<td>Parameters block</td>
<td>5 files</td>
<td>47</td>
</tr>
<tr>
<td>Triggers block</td>
<td>5 files</td>
<td>83</td>
</tr>
<tr>
<td>Environment block</td>
<td>5 files</td>
<td>63</td>
</tr>
<tr>
<td>Post actions block</td>
<td>5 files</td>
<td>119</td>
</tr>
<tr>
<td>Prepare WORKSPACE stage</td>
<td>5 files</td>
<td>151</td>
</tr>
<tr>
<td>Git commands (generalHelper)</td>
<td>12 calls</td>
<td>24</td>
</tr>
<tr>
<td>Python wrappers (generalHelper)</td>
<td>8 calls</td>
<td>16</td>
</tr>
<tr>
<td>Error handling (all helpers)</td>
<td>18 blocks</td>
<td>66</td>
</tr>
</tbody>
</table>
<p><strong>Total Duplication: 569 lines (18.1% of active codebase*)</strong></p>
<p><em>*Active codebase = Jenkinsfiles (1,239) + Groovy Helpers (1,148) + Python (749) = 3,136 lines</em></p>
<hr />
<h2 id="10-summary-table">10. Summary Table</h2>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Status</th>
<th>Problem</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Architecture</strong></td>
<td>Flat/Monolithic</td>
<td>No layer separation</td>
</tr>
<tr>
<td><strong>Code Reuse</strong></td>
<td>Poor</td>
<td>Duplicated code across 5 Jenkinsfiles</td>
</tr>
<tr>
<td><strong>Testability</strong></td>
<td>Very Low</td>
<td>Only 1 function testable</td>
</tr>
<tr>
<td><strong>Maintainability</strong></td>
<td>Poor</td>
<td>1 file modification → affects everything</td>
</tr>
<tr>
<td><strong>Logging</strong></td>
<td>Inconsistent</td>
<td>No format consistency, no hierarchy</td>
</tr>
<tr>
<td><strong>Error Handling</strong></td>
<td>Inconsistent</td>
<td>Stack trace lost</td>
</tr>
<tr>
<td><strong>API Communication</strong></td>
<td>Python dependent</td>
<td>Not possible directly in Groovy</td>
</tr>
<tr>
<td><strong>Documentation</strong></td>
<td>Partial</td>
<td>Some JSDoc present</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="11-key-issues-for-refactoring">11. Key Issues for Refactoring</h2>
<ol>
<li><strong>Separate concerns</strong>: Extract stage logic from Jenkinsfile into reusable modules</li>
<li><strong>Eliminate Python dependency</strong>: Implement HTTP communication directly in Groovy</li>
<li><strong>Standardize logging</strong>: Create centralized logging system with hierarchy</li>
<li><strong>Unify error handling</strong>: Create consistent error handling with stack trace preservation</li>
<li><strong>Enable testing</strong>: Structure code to allow unit testing</li>
<li><strong>Reduce duplication</strong>: Extract common patterns into reusable components</li>
<li><strong>Create layer architecture</strong>: Establish clear separation between layers</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.indexes", "navigation.top", "toc.integrate"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>