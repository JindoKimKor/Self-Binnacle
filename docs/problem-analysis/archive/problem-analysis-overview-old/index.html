<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="**Analysis Target**: Commit [`74fc356`](https://github.com/JindoKimKor/devops-jenkins-linux/tree/74fc3563713df593f070f1c418ef9ee68f2682ed) (2025-03-20)">
  <meta name="author" content="Jindo Kim">
  <title>Problem Analysis: Baseline Code Analysis | Post-Refactoring Analysis</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Mono:wght@400;700&display=swap">
  <link rel="stylesheet" href="../../../css/portfolio-theme.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
  <!-- Mobile hamburger -->
  <button class="nav-toggle" aria-label="Toggle navigation">
    <span></span><span></span><span></span>
  </button>

  <!-- Sidebar overlay (mobile) -->
  <div class="nav-overlay"></div>

  <!-- Sidebar navigation -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="../../../">Post-Refactoring Analysis</a>
    </div>
    <div class="sidebar-content">
      <ul class="nav-tree"><li class="nav-depth-1"><a href="../../../" class="nav-link">Home</a></li><li class="nav-depth-1"><button class="nav-section-btn">Problem Analysis</button><ul class="nav-children"><li class="nav-depth-2"><a href="../../../problem-analysis/problem-analysis-overview/" class="nav-link">Problem Analysis Overview</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/detailed-analysis/" class="nav-link">Detailed Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/architecture-smells-analysis/" class="nav-link">Architecture Smells Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/DRY-violation-analysis/" class="nav-link">DRY Violation Analysis</a></li><li class="nav-depth-2"><button class="nav-section-btn">Pipeline Sequence Diagrams</button><ul class="nav-children"><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/domain-mapping/" class="nav-link">Domain Mapping</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/dlx-ci/" class="nav-link">DLXJenkins CI</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/dlx-cd/" class="nav-link">DLXJenkins CD</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/js-ci/" class="nav-link">JsJenkins CI</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/js-cd/" class="nav-link">JsJenkins CD</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/jenkins-ci/" class="nav-link">PipelineForJenkins CI</a></li></ul></li><li class="nav-depth-2"><button class="nav-section-btn">Per-File Analysis</button><ul class="nav-children"><li class="nav-depth-3"><button class="nav-section-btn">generalHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">jsHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">unityHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">PipelineForJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li></ul></li></ul></li><li class="nav-depth-1"><button class="nav-section-btn">Problem Solving</button><ul class="nav-children"><li class="nav-depth-2"><a href="../../../problem-solving/solution-overview/" class="nav-link">Solution Overview</a></li><li class="nav-depth-2"><a href="../../../problem-solving/solution-by-layer/" class="nav-link">Solution by Layer</a></li><li class="nav-depth-2"><a href="../../../problem-solving/solution-by-feature/" class="nav-link">Solution by Feature</a></li><li class="nav-depth-2"><a href="../../../problem-solving/logger-system-design-integration/" class="nav-link">Logger System Design and Integration</a></li><li class="nav-depth-2"><a href="../../../problem-solving/domain-driven-analysis/" class="nav-link">Domain-Driven Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-solving/jenkins-cps-serialization-diagram/" class="nav-link">Jenkins CPS Serialization Diagram</a></li><li class="nav-depth-2"><a href="../../../problem-solving/pull-request-documentation/" class="nav-link">Pull Request Documentation</a></li><li class="nav-depth-2"><button class="nav-section-btn">Implementation Phases</button><ul class="nav-children"><li class="nav-depth-3"><a href="../../../problem-solving/phase-0-global-trusted-shared-library-setup/changelog/" class="nav-link">Phase 0 - Global Trusted Shared Library Setup</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-1-shellscript-modularization-and-initialization-stage/changelog/" class="nav-link">Phase 1 - Shell Script Modularization and Initialization Stage</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-2-3-level-logger-system-implementation/changelog/" class="nav-link">Phase 2 - 3-Level Logger System Implementation</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-3-bitbucket-api-and-shell-library-integration/changelog/" class="nav-link">Phase 3 - Bitbucket API and Shell Library Integration</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-4-full-pipeline-refactoring-and-stage-modularization/changelog/" class="nav-link">Phase 4 - Full Pipeline Refactoring and Stage Modularization</a></li></ul></li></ul></li></ul>
    </div>
  </nav>

  <!-- Main content -->
  <main class="content">
    <div class="container">
      <hr />
<p>analysis_target: "Commit 74fc356 (2025-03-20)"
github_url: "https://github.com/JindoKimKor/devops-jenkins-linux/tree/74fc3563713df593f070f1c418ef9ee68f2682ed"</p>
<hr />
<h1 id="problem-analysis-baseline-code-analysis">Problem Analysis: Baseline Code Analysis</h1>
<blockquote>
<p><strong>Analysis Target</strong>: Commit <a href="https://github.com/JindoKimKor/devops-jenkins-linux/tree/74fc3563713df593f070f1c418ef9ee68f2682ed"><code>74fc356</code></a> (2025-03-20)</p>
<p><strong>Total Code</strong>: 2,975 lines across 8 files</p>
</blockquote>
<hr />
<h2 id="overview">Overview</h2>
<p>Technical debt analysis of 5 pipelines (DLX CI/CD, JS CI/CD, PipelineForJenkins) that grew over <strong>14 months</strong> with focus on feature additions.</p>
<h3 id="key-metrics">Key Metrics</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total Lines of Code</td>
<td>2,975 lines</td>
</tr>
<tr>
<td>Helper Files</td>
<td>1,369 lines (46%)</td>
</tr>
<tr>
<td>Jenkinsfile</td>
<td>1,606 lines (54%)</td>
</tr>
<tr>
<td>Identified Issues</td>
<td><strong>51</strong> (High 20, Medium 23, Low 8)</td>
</tr>
</tbody>
</table>
<h3 id="project-structure">Project Structure</h3>
<pre><code>devops-jenkins-linux/
‚îú‚îÄ‚îÄ groovy/                              # Helper files (1,369 lines, 46%)
‚îÇ   ‚îú‚îÄ‚îÄ generalHelper.groovy      656 lines    ‚Üê Kitchen Sink (19% cohesion)
‚îÇ   ‚îú‚îÄ‚îÄ unityHelper.groovy        357 lines    ‚Üê Unity specific
‚îÇ   ‚îî‚îÄ‚îÄ jsHelper.groovy           356 lines    ‚Üê JS Web specific
‚îú‚îÄ‚îÄ DLXJenkins/                          # Unity pipeline (551 lines)
‚îÇ   ‚îú‚îÄ‚îÄ Jenkinsfile               286 lines    ‚Üê CI
‚îÇ   ‚îî‚îÄ‚îÄ JenkinsfileDeployment     265 lines    ‚Üê CD
‚îú‚îÄ‚îÄ JsJenkins/                           # JS Web pipeline (740 lines)
‚îÇ   ‚îú‚îÄ‚îÄ Jenkinsfile               314 lines    ‚Üê CI
‚îÇ   ‚îî‚îÄ‚îÄ JenkinsfileDeployment     426 lines    ‚Üê CD
‚îî‚îÄ‚îÄ PipelineForJenkins/                  # Jenkins self pipeline (315 lines)
    ‚îî‚îÄ‚îÄ Jenkinsfile               315 lines    ‚Üê CI only
</code></pre>
<hr />
<h2 id="detailed-analysis-documents">Detailed Analysis Documents</h2>
<p>üëâ <strong><a href="problem-analysis/detailed-analysis.md">Problem Analysis Summary</a></strong> - Complete list of 51 issues with severity classification</p>
<h3 id="per-file-analysis">Per-File Analysis</h3>
<table>
<thead>
<tr>
<th>#</th>
<th>File</th>
<th>SRP Analysis</th>
<th>Software Smells</th>
<th>Design Symptoms</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>generalHelper.groovy</td>
<td><a href="problem-analysis/01-generalHelper/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/01-generalHelper/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/01-generalHelper/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>02</td>
<td>jsHelper.groovy</td>
<td><a href="problem-analysis/02-jsHelper/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/02-jsHelper/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/02-jsHelper/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>03</td>
<td>unityHelper.groovy</td>
<td><a href="problem-analysis/03-unityHelper/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/03-unityHelper/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/03-unityHelper/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>04</td>
<td>DLXJenkins/Jenkinsfile</td>
<td><a href="problem-analysis/04-DLXJenkins-Jenkinsfile/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/04-DLXJenkins-Jenkinsfile/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/04-DLXJenkins-Jenkinsfile/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>05</td>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td><a href="problem-analysis/05-DLXJenkins-JenkinsfileDeployment/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/05-DLXJenkins-JenkinsfileDeployment/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/05-DLXJenkins-JenkinsfileDeployment/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>06</td>
<td>JsJenkins/Jenkinsfile</td>
<td><a href="problem-analysis/06-JsJenkins-Jenkinsfile/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/06-JsJenkins-Jenkinsfile/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/06-JsJenkins-Jenkinsfile/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>07</td>
<td>JsJenkins/JenkinsfileDeployment</td>
<td><a href="problem-analysis/07-JsJenkins-JenkinsfileDeployment/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/07-JsJenkins-JenkinsfileDeployment/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/07-JsJenkins-JenkinsfileDeployment/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
<tr>
<td>08</td>
<td>PipelineForJenkins/Jenkinsfile</td>
<td><a href="problem-analysis/08-PipelineForJenkins-Jenkinsfile/srp-violation-analysis.md">srp-violation-analysis.md</a></td>
<td><a href="problem-analysis/08-PipelineForJenkins-Jenkinsfile/software-smells-analysis.md">software-smells-analysis.md</a></td>
<td><a href="problem-analysis/08-PipelineForJenkins-Jenkinsfile/design-smells-symptoms.md">design-smells-symptoms.md</a></td>
</tr>
</tbody>
</table>
<h3 id="system-level-analysis">System-Level Analysis</h3>
<ul>
<li><a href="problem-analysis/DRY-violation-analysis.md">DRY Violation Analysis</a> - Duplication patterns across pipelines/helpers</li>
<li><a href="../../../problem-analysis/archive/problem-analysis/pipeline-sequence-diagrams">Pipeline Sequence Diagrams</a> - Call flow visualization by pipeline</li>
<li><a href="../../../problem-analysis/archive/problem-analysis/reference">Software Smells Taxonomy</a> - Theoretical classification framework used in analysis</li>
</ul>
<hr />
<h2 id="analysis-results-summary">Analysis Results Summary</h2>
<h3 id="baseline-analysis-conclusions">Baseline Analysis Conclusions</h3>
<ul>
<li>Jenkinsfile INLINE duplication: 29-31% (not abstracted to helpers)</li>
<li>Change reasons per Helper file: 8-17 (God Object)</li>
<li>generalHelper: Kitchen Sink class (no classification criteria, 19% cohesion)</li>
</ul>
<h3 id="key-symptoms">Key Symptoms</h3>
<ul>
<li><strong>Untestable Structure</strong>: Helper functions strongly coupled to Jenkins environment, making unit testing impossible</li>
<li><strong>Shotgun Surgery</strong>: One line of code change ‚Üí Must check all 5 pipelines</li>
<li><strong>Technical Debt Vicious Cycle</strong>: Code no one dares touch ‚Üí New features copy-pasted INLINE ‚Üí Duplication increases</li>
</ul>
<hr />
<h2 id="real-world-experience">Real-World Experience</h2>
<h3 id="human-error-prone-structure">Human Error Prone Structure</h3>
<ul>
<li>Modified INLINE code in CI Jenkinsfile, tested only CI pipeline</li>
<li>Forgot about identical INLINE code in CD Jenkinsfile, deployed ‚Üí CD pipeline not applied</li>
<li>Modified Helper function + CI Jenkinsfile, missed CD Jenkinsfile update ‚Üí CD pipeline broken</li>
</ul>
<h3 id="risk-of-needing-to-consider-everything-for-one-feature">Risk of Needing to Consider Everything for One Feature</h3>
<ul>
<li>When changing common functionality like "Add Warning status to build results":</li>
<li>Must find and modify all 5 pipelines individually</li>
<li>Context switching when interrupted by other ticket work</li>
<li>Need to notify team members before every change</li>
</ul>
<h3 id="workflow-and-teamwork-threatened-by-strong-coupling">Workflow and Teamwork Threatened by Strong Coupling</h3>
<ul>
<li>Multiple responsibilities concentrated in single file + strong coupling</li>
<li>One person's code changes affect other team members' work</li>
<li>Psychologically reluctant to modify/add features ‚Üí Teamwork degradation</li>
</ul>
<h3 id="roi-degradation">ROI Degradation</h3>
<ul>
<li>Even simple modifications can't focus on just that feature</li>
<li>Must consider 5 pipelines + Jenkins UI settings + Webhook/Third-party APIs</li>
<li>10-20 minute tasks extend to hours or days</li>
</ul>
<hr />
<details>
<summary>Case Study: cloneOrUpdateRepo() function unable to handle project structure changes</summary>
<p>The <code>cloneOrUpdateRepo()</code> function was designed with <strong>the assumption that there's only one project in the root folder</strong>.</p>
<ul>
<li>Unity: Single project folder at root (<code>Unity_Project/</code>)</li>
<li>JS Web: <code>frontend/</code>, <code>backend/</code> subfolders at root, each with independent <code>package.json</code></li>
</ul>
<p>When the web development team used a different folder structure, this function threw errors:</p>
<ol>
<li><strong>Debugging difficulty</strong>: Error handling and logging were inadequate, couldn't determine what values were being passed</li>
<li><strong>Root cause identification</strong>: Contacted dev team ‚Üí Checked project structure ‚Üí Discovered different folder structure than Unity</li>
<li><strong>Code modification attempt</strong>: Tried modifying helper function internals ‚Üí Caused issues in other pipeline (Unity)</li>
<li><strong>Jenkinsfile modification attempt</strong>: Couldn't bring myself to touch it (affects 5 pipelines)</li>
<li><strong>Final workaround</strong>: Temporarily handled by modifying environment variables in pipeline webhook settings via Jenkins web UI</li>
</ol>
<p>Eventually gave up on helper for CD pipeline and implemented INLINE directly:</p>
<pre><code class="language-groovy">// JenkinsfileDeployment - INLINE implementation instead of helper
dir(&quot;${PROJECT_DIR}&quot;) {
    sh &quot;git checkout ${DESTINATION_BRANCH}&quot;
    sh 'git reset --hard HEAD'
    sh 'git pull'
}
</code></pre>
</details>
<hr />
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://www.jenkins.io/doc/book/pipeline/shared-libraries/">Jenkins Shared Libraries Documentation</a></li>
<li><a href="https://www.jenkins.io/doc/pipeline/steps/workflow-cps/">Pipeline: Groovy Plugin - load step</a></li>
</ul>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-groovy.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>
  
  <script src="../../../js/nav.js"></script>
</body>
</html>