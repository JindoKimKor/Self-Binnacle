<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="**Note on 37% vs 41%:** If you came from my resume, you may have seen "37% duplication." That figure was from an earlier baseline (`54479b2`, 2025-02-21). After detailed commit history analysis, `74fc">
  <meta name="author" content="Jindo Kim">
  <title>Retrospective Analysis: From 5 Monolithic Pipelines to 4-Layer Architecture | Post-Refactoring Analysis</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Mono:wght@400;700&display=swap">
  <link rel="stylesheet" href="./css/portfolio-theme.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
  <!-- Mobile hamburger -->
  <button class="nav-toggle" aria-label="Toggle navigation">
    <span></span><span></span><span></span>
  </button>

  <!-- Sidebar overlay (mobile) -->
  <div class="nav-overlay"></div>

  <!-- Sidebar navigation -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="./">Post-Refactoring Analysis</a>
    </div>
    <div class="sidebar-content">
      <ul class="nav-tree"><li class="nav-depth-1"><a href="./" class="nav-link active">Home</a></li><li class="nav-depth-1"><button class="nav-section-btn">Problem Analysis</button><ul class="nav-children"><li class="nav-depth-2"><a href="./problem-analysis/problem-analysis-overview/" class="nav-link">Problem Analysis Overview</a></li><li class="nav-depth-2"><a href="./problem-analysis/detailed-analysis/" class="nav-link">Detailed Analysis</a></li><li class="nav-depth-2"><a href="./problem-analysis/architecture-smells-analysis/" class="nav-link">Architecture Smells Analysis</a></li><li class="nav-depth-2"><a href="./problem-analysis/DRY-violation-analysis/" class="nav-link">DRY Violation Analysis</a></li><li class="nav-depth-2"><button class="nav-section-btn">Pipeline Sequence Diagrams</button><ul class="nav-children"><li class="nav-depth-3"><a href="./problem-analysis/pipeline-sequence-diagrams/domain-mapping/" class="nav-link">Domain Mapping</a></li><li class="nav-depth-3"><a href="./problem-analysis/pipeline-sequence-diagrams/dlx-ci/" class="nav-link">DLXJenkins CI</a></li><li class="nav-depth-3"><a href="./problem-analysis/pipeline-sequence-diagrams/dlx-cd/" class="nav-link">DLXJenkins CD</a></li><li class="nav-depth-3"><a href="./problem-analysis/pipeline-sequence-diagrams/js-ci/" class="nav-link">JsJenkins CI</a></li><li class="nav-depth-3"><a href="./problem-analysis/pipeline-sequence-diagrams/js-cd/" class="nav-link">JsJenkins CD</a></li><li class="nav-depth-3"><a href="./problem-analysis/pipeline-sequence-diagrams/jenkins-ci/" class="nav-link">PipelineForJenkins CI</a></li></ul></li><li class="nav-depth-2"><button class="nav-section-btn">Per-File Analysis</button><ul class="nav-children"><li class="nav-depth-3"><button class="nav-section-btn">generalHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/01-generalHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/01-generalHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/01-generalHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">jsHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/02-jsHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/02-jsHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/02-jsHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">unityHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/03-unityHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/03-unityHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/03-unityHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/04-DLXJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/04-DLXJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/04-DLXJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/05-DLXJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/05-DLXJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/05-DLXJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/06-JsJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/06-JsJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/06-JsJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/07-JsJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/07-JsJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/07-JsJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">PipelineForJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="./problem-analysis/08-PipelineForJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/08-PipelineForJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="./problem-analysis/08-PipelineForJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li></ul></li></ul></li><li class="nav-depth-1"><button class="nav-section-btn">Problem Solving</button><ul class="nav-children"><li class="nav-depth-2"><a href="./problem-solving/solution-overview/" class="nav-link">Solution Overview</a></li><li class="nav-depth-2"><a href="./problem-solving/solution-by-layer/" class="nav-link">Solution by Layer</a></li><li class="nav-depth-2"><a href="./problem-solving/solution-by-feature/" class="nav-link">Solution by Feature</a></li><li class="nav-depth-2"><a href="./problem-solving/logger-system-design-integration/" class="nav-link">Logger System Design and Integration</a></li><li class="nav-depth-2"><a href="./problem-solving/domain-driven-analysis/" class="nav-link">Domain-Driven Analysis</a></li><li class="nav-depth-2"><a href="./problem-solving/jenkins-cps-serialization-diagram/" class="nav-link">Jenkins CPS Serialization Diagram</a></li><li class="nav-depth-2"><a href="./problem-solving/pull-request-documentation/" class="nav-link">Pull Request Documentation</a></li><li class="nav-depth-2"><button class="nav-section-btn">Implementation Phases</button><ul class="nav-children"><li class="nav-depth-3"><a href="./problem-solving/phase-0-global-trusted-shared-library-setup/changelog/" class="nav-link">Phase 0 - Global Trusted Shared Library Setup</a></li><li class="nav-depth-3"><a href="./problem-solving/phase-1-shellscript-modularization-and-initialization-stage/changelog/" class="nav-link">Phase 1 - Shell Script Modularization and Initialization Stage</a></li><li class="nav-depth-3"><a href="./problem-solving/phase-2-3-level-logger-system-implementation/changelog/" class="nav-link">Phase 2 - 3-Level Logger System Implementation</a></li><li class="nav-depth-3"><a href="./problem-solving/phase-3-bitbucket-api-and-shell-library-integration/changelog/" class="nav-link">Phase 3 - Bitbucket API and Shell Library Integration</a></li><li class="nav-depth-3"><a href="./problem-solving/phase-4-full-pipeline-refactoring-and-stage-modularization/changelog/" class="nav-link">Phase 4 - Full Pipeline Refactoring and Stage Modularization</a></li></ul></li></ul></li></ul>
    </div>
  </nav>

  <!-- Main content -->
  <main class="content">
    <div class="container">
      <h1 id="retrospective-analysis-from-5-monolithic-pipelines-to-4-layer-architecture">Retrospective Analysis: From 5 Monolithic Pipelines to 4-Layer Architecture</h1>
<p><img alt="Refactoring Before After" src="./resources/refactoring-before-after.png" /></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>What I did</strong></td>
<td>Transformed 5 monolithic pipelines (41% duplication) into 4-layer architecture with centralized libraries</td>
</tr>
<tr>
<td><strong>How it emerged</strong></td>
<td>Felt the pain - organized by domain naturally - patterns emerged</td>
</tr>
<tr>
<td><strong>Post-analysis</strong></td>
<td>Mapped my solution to industry concepts (Software Smells, DDD patterns, GoF Design Patterns)</td>
</tr>
<tr>
<td><strong>Documentation</strong></td>
<td>Problem analysis, pattern identification, architecture rationale</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note on 37% vs 41%:</strong> If you came from my resume, you may have seen "37% duplication." That figure was from an earlier baseline (<code>54479b2</code>, 2025-02-21). After detailed commit history analysis, <code>74fc356</code> (2025-03-20) was identified as the accurate "before refactoring" state, showing <strong>41% duplication</strong>. The increase itself demonstrates the architecture's High Viscosity problem.</p>
</blockquote>
<hr />
<h2 id="purpose">Purpose</h2>
<p>This portfolio is a <strong>post-refactoring analysis</strong> of intuitive problem-solving done during VARLab Co-op.</p>
<table>
<thead>
<tr>
<th>What I Did</th>
<th>What This Document Does</th>
</tr>
</thead>
<tbody>
<tr>
<td>Refactored 5 monolithic pipelines into 4-Layer Architecture</td>
<td>Classify and define those intuitive fixes using industry conventions</td>
</tr>
<tr>
<td>Designed 3-Level Logger System</td>
<td>Analyze why the design worked and how it integrates with the architecture</td>
</tr>
</tbody>
</table>
<p><strong>Goal:</strong> Transform experience-based understanding into systematic, reusable knowledge</p>
<ul>
<li>Learn how problems I "felt" are formally named (Software Smells, Anti-patterns)</li>
<li>Validate solutions against established principles (SOLID, Design Patterns)</li>
<li>Understand integration points that made the Logger System possible</li>
</ul>
<hr />
<h2 id="if-i-had-this-analysis-then">If I Had This Analysis Then...</h2>
<h3 id="before-during-refactoring">Before (During Refactoring)</h3>
<p>When I proposed this refactoring to my supervisor, I could only say:</p>
<blockquote>
<p>"The code is messy. There's a lot of copy-paste. It's hard to maintain. I think we should restructure it."</p>
</blockquote>
<p>I knew something was wrong. I felt the pain every time I had to modify multiple files for a single change. But I couldn't articulate <strong>why</strong> it was problematic or <strong>how bad</strong> it actually was.</p>
<h3 id="after-with-this-analysis">After (With This Analysis)</h3>
<p>If I had this analysis back then, I could have presented:</p>
<blockquote>
<p>"We have <strong>41% code duplication</strong> across 5 pipelines. A single change to <code>sendBuildStatus</code> requires modifications in <strong>18 locations across 6 files</strong>. We're making <strong>113 external calls</strong> to 12 different systems with no abstraction layer, making the code untestable. In the past month alone, duplication increased from 37% to 41%, showing the architecture's <strong>High Viscosity</strong> is causing duplication to grow naturally."</p>
</blockquote>
<p>Instead of "it feels messy," I could have shown concrete numbers. Instead of "it's hard to maintain," I could have explained <strong>Shotgun Surgery</strong> with specific examples. Instead of "we should fix it," I could have demonstrated the <strong>ROI degradation</strong> where 10-minute tasks were taking hours.</p>
<h3 id="the-difference">The Difference</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Before</th>
<th>After</th>
</tr>
</thead>
<tbody>
<tr>
<td>Problem Description</td>
<td>"Code is messy"</td>
<td>"41% duplication, 18-location Shotgun Surgery"</td>
</tr>
<tr>
<td>Justification</td>
<td>"I feel it's hard to maintain"</td>
<td>"Duplication increased 4% in 1 month (High Viscosity)"</td>
</tr>
<tr>
<td>Scope</td>
<td>"A lot of copy-paste"</td>
<td>"113 external calls, 12 types, untestable"</td>
</tr>
<tr>
<td>Urgency</td>
<td>"We should fix it sometime"</td>
<td>"10-20 min tasks - hours, ROI degradation"</td>
</tr>
</tbody>
</table>
<p>This analysis transforms intuition into evidence. It provides the vocabulary and metrics needed to communicate technical debt to stakeholders who may not see the code daily.</p>
<hr />
<h2 id="what-would-you-like-to-know">What Would You Like to Know?</h2>
<h3 id="problem-analysis">ğŸ” Problem Analysis</h3>
<blockquote>
<p><strong>Q: Want to see how I analyzed a single file?</strong></p>
<ul>
<li><a href="./problem-analysis/01-generalHelper/01-srp-violation-analysis/">SRP Violation Analysis</a></li>
<li><a href="./problem-analysis/01-generalHelper/02-software-smells-analysis/">Software Smells Analysis</a></li>
<li><a href="./problem-analysis/01-generalHelper/03-design-smells-symptoms/">Design Smells Analysis</a></li>
</ul>
<p>Analysis flow: Define SRP criteria - Analyze responsibility per function/module - Identify Software Smells</p>
<p><strong>Q: Want the overall problem analysis summary?</strong></p>
<ul>
<li><a href="./problem-analysis/problem-analysis-overview/">problem-analysis-overview.md</a></li>
</ul>
<p><strong>Q: Want the detailed analysis?</strong></p>
<ul>
<li><a href="./problem-analysis/detailed-analysis/">detailed-analysis.md</a> - Synthesized findings (Symptoms, Patterns, Duplication)</li>
<li><a href="./problem-analysis/architecture-smells-analysis/">architecture-smells-analysis.md</a> - System-level analysis</li>
<li><a href="./problem-analysis/DRY-violation-analysis/">DRY-violation-analysis.md</a> - Cross-file duplication patterns</li>
</ul>
</blockquote>
<h3 id="solution">ğŸ› ï¸ Solution</h3>
<blockquote>
<p><strong>Q: Want to see the final architecture and solution overview?</strong></p>
<ul>
<li><a href="./problem-solving/solution-overview/">solution-overview.md</a></li>
</ul>
<p><strong>Q: Want to know which design principles were applied?</strong></p>
<ul>
<li><a href="./problem-solving/solution-by-layer/">solution-by-layer.md</a> - 4-Layer Architecture analysis</li>
<li><a href="./problem-solving/solution-by-feature/">solution-by-feature.md</a> - Logger System, Shell Libraries analysis</li>
</ul>
<p><strong>Q: Want the step-by-step implementation process?</strong></p>
<ul>
<li><a href="./problem-solving/solution-overview/">solution-overview.md</a> - Phase 0~4 overview with links</li>
</ul>
</blockquote>
<h3 id="supplement">ğŸ“„ Supplement</h3>
<blockquote>
<p><strong>Q: Want the DDD perspective analysis?</strong></p>
<ul>
<li><a href="./problem-solving/domain-driven-analysis/">domain-driven-analysis.md</a></li>
</ul>
<p><strong>Q: Want to see the Pull Request documentation?</strong></p>
<ul>
<li><a href="./problem-solving/pull-request-documentation/pull-request-documentation.pdf">pull-request-documentation.pdf</a></li>
</ul>
</blockquote>
<hr />
<h2 id="project-overview">Project Overview</h2>
<h3 id="background">Background</h3>
<ul>
<li>14 months of accumulated Technical Debt</li>
<li>5 monolithic pipelines (41% duplication, untestable)</li>
<li>Discovered Jenkins Global Trusted Shared Library feature at month 13</li>
<li>Performed refactoring over 54 days (Library setup 35 days, Core refactoring ~2 weeks)</li>
</ul>
<h3 id="timeline">Timeline</h3>
<table>
<thead>
<tr>
<th>Milestone</th>
<th>Date</th>
<th>Commit</th>
<th>Repository</th>
</tr>
</thead>
<tbody>
<tr>
<td>Initial commit (Windows)</td>
<td>2023-12-17</td>
<td><code>e9d8028</code></td>
<td>devops-jenkins-windows</td>
</tr>
<tr>
<td>Migration to Linux</td>
<td>2025-01-07</td>
<td><code>5a59d45</code></td>
<td>devops-jenkins-linux</td>
</tr>
<tr>
<td>Baseline (Before refactoring)</td>
<td>2025-03-20</td>
<td><code>74fc356</code></td>
<td>devops-jenkins-linux</td>
</tr>
<tr>
<td><strong>Technical Debt Period</strong></td>
<td><strong>~14 months</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Refactoring complete</td>
<td>2025-05-12</td>
<td><code>ff74ac8</code></td>
<td>devops-jenkins-linux</td>
</tr>
</tbody>
</table>
<blockquote>
<p>Repository started in Windows environment and migrated to Linux.
Initial commit (2023-12-17) - Baseline (2025-03-20) = ~14 months of accumulated Technical Debt</p>
</blockquote>
<hr />
<h2 id="document-structure">Document Structure</h2>
<pre><code>retrospective-analysis-from-5-monolithic-pipelines-to-4-layer-architecture/
â”‚
â”œâ”€â”€ README.md                           # â† This document (entry point)
â”‚
â”œâ”€â”€ problem-analysis/                   # Problem Analysis
â”‚   â”œâ”€â”€ problem-analysis-overview.md    # Problem summary (â˜… Start here)
â”‚   â”œâ”€â”€ detailed-analysis.md            # Synthesized findings
â”‚   â”œâ”€â”€ architecture-smells-analysis.md # System-level analysis
â”‚   â”œâ”€â”€ DRY-violation-analysis.md       # Cross-file duplication
â”‚   â”‚
â”‚   â”œâ”€â”€ 01-generalHelper/               # Per-file analysis
â”‚   â”‚   â”œâ”€â”€ 01-srp-violation-analysis.md
â”‚   â”‚   â”œâ”€â”€ 02-software-smells-analysis.md
â”‚   â”‚   â””â”€â”€ 03-design-smells-symptoms.md
â”‚   â”œâ”€â”€ 02-jsHelper/
â”‚   â”œâ”€â”€ 03-unityHelper/
â”‚   â”œâ”€â”€ 04~08-Jenkinsfiles/
â”‚   â”‚
â”‚   â””â”€â”€ pipeline-sequence-diagrams/     # Pipeline flow analysis
â”‚       â”œâ”€â”€ domain-mapping.md
â”‚       â””â”€â”€ dlx-ci.md, dlx-cd.md, js-ci.md, js-cd.md, jenkins-ci.md
â”‚
â”œâ”€â”€ problem-solving/                    # Solution
â”‚   â”œâ”€â”€ solution-overview.md            # Entry point for solution docs
â”‚   â”œâ”€â”€ solution-by-layer.md            # 4-Layer Architecture analysis
â”‚   â”œâ”€â”€ solution-by-feature.md          # Logger System, Shell Libraries
â”‚   â”œâ”€â”€ logger-system-design-integration.md  # Logger design document
â”‚   â”œâ”€â”€ domain-driven-analysis.md       # DDD analysis (supplement)
â”‚   â”œâ”€â”€ pull-request-documentation.pdf  # PR attachment
â”‚   â””â”€â”€ phase-0~4/                      # Step-by-step changelogs
â”‚
â””â”€â”€ resources/                          # Images
    â””â”€â”€ architecture-overview.png, stage-logger-*.png
</code></pre>
<hr />
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://www.jenkins.io/doc/book/pipeline/shared-libraries/">Jenkins Shared Libraries Documentation</a></li>
</ul>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-groovy.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>
  
  <script src="./js/nav.js"></script>
</body>
</html>