<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="2. [Commit List](#2-commit-list)">
  <meta name="author" content="Jindo Kim">
  <title>Phase 1: ShellScript Modularization & Initialization Stage | Post-Refactoring Analysis</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Mono:wght@400;700&display=swap">
  <link rel="stylesheet" href="../../../css/portfolio-theme.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
  <!-- Mobile hamburger -->
  <button class="nav-toggle" aria-label="Toggle navigation">
    <span></span><span></span><span></span>
  </button>

  <!-- Sidebar overlay (mobile) -->
  <div class="nav-overlay"></div>

  <!-- Sidebar navigation -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="../../../">Post-Refactoring Analysis</a>
    </div>
    <div class="sidebar-content">
      <ul class="nav-tree"><li class="nav-depth-1"><a href="../../../" class="nav-link">Home</a></li><li class="nav-depth-1"><button class="nav-section-btn">Problem Analysis</button><ul class="nav-children"><li class="nav-depth-2"><a href="../../../problem-analysis/problem-analysis-overview/" class="nav-link">Problem Analysis Overview</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/detailed-analysis/" class="nav-link">Detailed Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/architecture-smells-analysis/" class="nav-link">Architecture Smells Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/DRY-violation-analysis/" class="nav-link">DRY Violation Analysis</a></li><li class="nav-depth-2"><button class="nav-section-btn">Pipeline Sequence Diagrams</button><ul class="nav-children"><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/domain-mapping/" class="nav-link">Domain Mapping</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/dlx-ci/" class="nav-link">DLXJenkins CI</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/dlx-cd/" class="nav-link">DLXJenkins CD</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/js-ci/" class="nav-link">JsJenkins CI</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/js-cd/" class="nav-link">JsJenkins CD</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/jenkins-ci/" class="nav-link">PipelineForJenkins CI</a></li></ul></li><li class="nav-depth-2"><button class="nav-section-btn">Per-File Analysis</button><ul class="nav-children"><li class="nav-depth-3"><button class="nav-section-btn">generalHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">jsHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">unityHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">PipelineForJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li></ul></li></ul></li><li class="nav-depth-1"><button class="nav-section-btn expanded">Problem Solving</button><ul class="nav-children"><li class="nav-depth-2"><a href="../../../problem-solving/solution-overview/" class="nav-link">Solution Overview</a></li><li class="nav-depth-2"><a href="../../../problem-solving/solution-by-layer/" class="nav-link">Solution by Layer</a></li><li class="nav-depth-2"><a href="../../../problem-solving/solution-by-feature/" class="nav-link">Solution by Feature</a></li><li class="nav-depth-2"><a href="../../../problem-solving/logger-system-design-integration/" class="nav-link">Logger System Design and Integration</a></li><li class="nav-depth-2"><a href="../../../problem-solving/domain-driven-analysis/" class="nav-link">Domain-Driven Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-solving/jenkins-cps-serialization-diagram/" class="nav-link">Jenkins CPS Serialization Diagram</a></li><li class="nav-depth-2"><a href="../../../problem-solving/pull-request-documentation/" class="nav-link">Pull Request Documentation</a></li><li class="nav-depth-2"><button class="nav-section-btn expanded">Implementation Phases</button><ul class="nav-children"><li class="nav-depth-3"><a href="../../../problem-solving/phase-0-global-trusted-shared-library-setup/changelog/" class="nav-link">Phase 0 - Global Trusted Shared Library Setup</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-1-shellscript-modularization-and-initialization-stage/changelog/" class="nav-link active">Phase 1 - Shell Script Modularization and Initialization Stage</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-2-3-level-logger-system-implementation/changelog/" class="nav-link">Phase 2 - 3-Level Logger System Implementation</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-3-bitbucket-api-and-shell-library-integration/changelog/" class="nav-link">Phase 3 - Bitbucket API and Shell Library Integration</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-4-full-pipeline-refactoring-and-stage-modularization/changelog/" class="nav-link">Phase 4 - Full Pipeline Refactoring and Stage Modularization</a></li></ul></li></ul></li></ul>
    </div>
  </nav>

  <!-- Main content -->
  <main class="content">
    <div class="container">
      <h1 id="phase-1-shellscript-modularization-initialization-stage">Phase 1: ShellScript Modularization &amp; Initialization Stage</h1>
<h2 id="basic-information">Basic Information</h2>
<table>
<thead>
<tr>
<th>Item</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Start</strong></td>
<td><code>3c6422c</code> (2025-04-24, Phase 0 ended)</td>
</tr>
<tr>
<td><strong>Final</strong></td>
<td><code>d699fac</code> (2025-04-26)</td>
</tr>
<tr>
<td><strong>Total Commits</strong></td>
<td>12</td>
</tr>
<tr>
<td><strong>Duration</strong></td>
<td>2025-04-25 (1 day)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#1-goal">Goal</a></li>
<li><a href="#2-commit-list">Commit List</a></li>
<li><a href="#3-step-by-step-detailed-analysis">Step-by-Step Detailed Analysis</a></li>
<li>3.1 <a href="#31-step-1-initialization-stage-initial-implementation">Step 1: Initialization Stage Initial Implementation</a></li>
<li>3.2 <a href="#32-step-2-shellscript-modularization">Step 2: ShellScript Modularization</a></li>
<li>3.3 <a href="#33-step-3-package-structure-and-annotation-modifications">Step 3: Package Structure and Annotation Modifications</a></li>
<li>3.4 <a href="#34-step-4-naming-convention-establishment-and-logging-improvement">Step 4: Naming Convention Establishment and Logging Improvement</a></li>
<li><a href="#4-new-files">New Files</a></li>
<li><a href="#5-architecture-significance">Architecture Significance</a></li>
<li><a href="#6-core-patterns">Core Patterns</a></li>
<li><a href="#7-benefits">Benefits</a></li>
<li><a href="#8-next-steps">Next Steps</a></li>
</ol>
<hr />
<h2 id="1-goal">1. Goal</h2>
<p>Separate Shell script execution logic from pipeline code and modularize common initialization logic into Stage</p>
<hr />
<h2 id="2-commit-list">2. Commit List</h2>
<table>
<thead>
<tr>
<th>Date</th>
<th>Commit</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-04-25</td>
<td><code>fe1a82a</code></td>
<td>Initialization initial test</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>5f079ff</code></td>
<td>Added PRBRANCH git origin fetch in Initialization stage</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>44c4d06</code></td>
<td>Added git origin fetch and get shell latest commit commands in Intialization groovy with error handling</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>8be55ee</code></td>
<td>ShellScripting Modulized</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>d492539</code></td>
<td>initialization.groovy has been updated to Initialization.groovy with the initial letter capitalized</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>8ef6fef</code></td>
<td>Shell Script Data Class and Improve ShellScriptHelper</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>58a41e0</code></td>
<td>Move import ShellParams Package in Jenkinsfile</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>0b9e4a8</code></td>
<td>Fixed the way to do Package and use it</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>40bf3c4</code></td>
<td>Removed Canonical annotation</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>d12ef93</code></td>
<td>Added logic for TICKET NUMBER and FOLDER NAME and test initial lowercase Stage class name</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>d501f2d</code></td>
<td>Try initial lowercase groovy file name in vars folder</td>
</tr>
<tr>
<td>2025-04-25</td>
<td><code>d3613c8</code></td>
<td>Improved log in Initialization stage and ShellScript Helper</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="3-step-by-step-detailed-analysis">3. Step-by-Step Detailed Analysis</h2>
<h3 id="31-step-1-initialization-stage-initial-implementation">3.1 Step 1: Initialization Stage Initial Implementation</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Commits</strong>: <code>fe1a82a</code> ~ <code>44c4d06</code> (3 commits)</p>
<p><strong>Goal</strong>: Create first Stage module in vars/ folder and implement Git initialization logic</p>
<h4 id="work-by-commit">Work by Commit</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Work</th>
<th>File Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fe1a82a</code></td>
<td>Created Initialization.groovy, tested calling from Jenkinsfile</td>
<td>+<code>vars/Initialization.groovy</code></td>
</tr>
<tr>
<td><code>5f079ff</code></td>
<td>Added git origin fetch for PR_BRANCH</td>
<td>Modified <code>vars/Initialization.groovy</code></td>
</tr>
<tr>
<td><code>44c4d06</code></td>
<td>Added git fetch origin, shell latest commit commands, implemented error handling</td>
<td><code>vars/Initialization.groovy</code> +41 lines</td>
</tr>
</tbody>
</table>
<p><strong>Result</strong>:
- Created <code>vars/Initialization.groovy</code> file
- Includes basic git fetch and error handling</p>
</details>
<hr />
<h3 id="32-step-2-shellscript-modularization">3.2 Step 2: ShellScript Modularization</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Commits</strong>: <code>8be55ee</code> ~ <code>8ef6fef</code> (3 commits)</p>
<p><strong>Goal</strong>: Separate Shell execution logic into separate Helper and create data class</p>
<h4 id="work-by-commit_1">Work by Commit</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Work</th>
<th>File Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>8be55ee</code></td>
<td>Separated shell logic from Initialization, created shellUtils.groovy</td>
<td>+<code>vars/shellUtils.groovy</code> (52 lines)</td>
</tr>
<tr>
<td><code>d492539</code></td>
<td>Tested file name capitalization (initialization → Initialization)</td>
<td>Modified Jenkinsfile</td>
</tr>
<tr>
<td><code>8ef6fef</code></td>
<td>Created ShellParams data class, refactored to ShellScriptHelper</td>
<td>+<code>src/utils/ShellParams.groovy</code>, +<code>vars/ShellScriptHelper.groovy</code>, -<code>vars/shellUtils.groovy</code></td>
</tr>
</tbody>
</table>
<p><strong>Architecture Change</strong>:</p>
<pre><code>Before: vars/Initialization.groovy (includes shell logic)
After:  vars/Initialization.groovy
        vars/ShellScriptHelper.groovy (handles shell execution)
        src/utils/ShellParams.groovy (parameter data class)
</code></pre>
<p><strong>Learning Points</strong>:
- Files in vars/ folder can be called directly from Jenkins
- Classes in src/ folder are used via import</p>
</details>
<hr />
<h3 id="33-step-3-package-structure-and-annotation-modifications">3.3 Step 3: Package Structure and Annotation Modifications</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Commits</strong>: <code>58a41e0</code> ~ <code>40bf3c4</code> (3 commits)</p>
<p><strong>Goal</strong>: Resolve Groovy package import issues and Jenkins CPS compatibility</p>
<h4 id="problem-solving-process">Problem Solving Process</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Attempt</th>
<th>Problem</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>58a41e0</code></td>
<td>Moved ShellParams import location</td>
<td>Import issue in vars</td>
<td>Moved to Jenkinsfile</td>
</tr>
<tr>
<td><code>0b9e4a8</code></td>
<td>Fixed package path</td>
<td>Wrong package declaration</td>
<td>Fixed to <code>utils.ShellParams</code></td>
</tr>
<tr>
<td><code>40bf3c4</code></td>
<td>Removed @Canonical annotation</td>
<td>Jenkins CPS compatibility issue</td>
<td>Implemented manual constructor/getter</td>
</tr>
</tbody>
</table>
<p><strong>Code Change</strong>:</p>
<pre><code class="language-groovy">// Before: Groovy @Canonical annotation
@Canonical
class ShellParams {
    String script
    String label
}

// After: Manual implementation (Jenkins CPS compatible)
class ShellParams {
    String script
    String label

    ShellParams(String script, String label) {
        this.script = script
        this.label = label
    }
}
</code></pre>
<p><strong>Learning Points</strong>:
- Jenkins Pipeline's CPS transformation is incompatible with some Groovy annotations
- <code>@Canonical</code>, <code>@Immutable</code>, etc. need to be replaced with manual implementation</p>
</details>
<hr />
<h3 id="34-step-4-naming-convention-establishment-and-logging-improvement">3.4 Step 4: Naming Convention Establishment and Logging Improvement</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Commits</strong>: <code>d12ef93</code> ~ <code>d3613c8</code> (3 commits)</p>
<p><strong>Goal</strong>: Establish vars/ file naming conventions and improve logging</p>
<h4 id="work-by-commit_2">Work by Commit</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Work</th>
<th>File Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>d12ef93</code></td>
<td>Added TICKET_NUMBER/FOLDER_NAME logic, renamed Initialization → stageInitialization</td>
<td><code>vars/Initialization.groovy</code> → <code>vars/stageInitialization.groovy</code></td>
</tr>
<tr>
<td><code>d501f2d</code></td>
<td>Renamed ShellScriptHelper → helperShellScript</td>
<td><code>vars/ShellScriptHelper.groovy</code> → <code>vars/helperShellScript.groovy</code></td>
</tr>
<tr>
<td><code>d3613c8</code></td>
<td>Improved logging messages, organized output format</td>
<td>Modified both files</td>
</tr>
</tbody>
</table>
<p><strong>Naming Convention Established</strong>:</p>
<pre><code>vars/ File Naming Convention:
- Stage modules: stage{StageName}.groovy (e.g., stageInitialization.groovy)
- Helpers: helper{HelperName}.groovy (e.g., helperShellScript.groovy)
</code></pre>
<p><strong>Result</strong>:
- <code>stageInitialization.groovy</code>: Stage module
- <code>helperShellScript.groovy</code>: Shell execution helper</p>
</details>
<hr />
<h2 id="4-new-files">4. New Files</h2>
<h3 id="41-sharedlibrariessrcutilsshellparamsgroovy-43-lines">4.1 <code>sharedLibraries/src/utils/ShellParams.groovy</code> (43 lines)</h3>
<p>Parameter data class for Shell command execution</p>
<pre><code class="language-groovy">class ShellParams {
    String script
    String label
    boolean returnStdout = false
    boolean returnStatus = false
}
</code></pre>
<h3 id="42-sharedlibrariesvarshelpershellscriptgroovy-100-lines">4.2 <code>sharedLibraries/vars/helperShellScript.groovy</code> (100 lines)</h3>
<p>Shell script execution helper - Executes sh commands in a standardized way</p>
<pre><code class="language-groovy">def execute(Map params) {
    // params: script, label, returnStdout, returnStatus
    // Integrated logging, error handling
}
</code></pre>
<h3 id="43-sharedlibrariesvarsstageinitializationgroovy-41-lines">4.3 <code>sharedLibraries/vars/stageInitialization.groovy</code> (41 lines)</h3>
<p>Pipeline initialization Stage - Environment variable setup, Git information collection</p>
<pre><code class="language-groovy">def call() {
    echo &quot;▶️ Stage '${env.STAGE_NAME}' Starting&quot;
    // Initialize environment variables like TICKET_NUMBER, FOLDER_NAME
    // Git origin fetch
}
</code></pre>
<h2 id="5-architecture-significance">5. Architecture Significance</h2>
<h3 id="51-layer-2-4-established">5.1 Layer 2 &amp; 4 Established</h3>
<pre><code>sharedLibraries/
├── vars/                    # Layer 2: Orchestration
│   ├── helperShellScript.groovy      # Helper
│   └── stageInitialization.groovy    # Stage Module
└── src/
    └── utils/               # Layer 4: Utilities
        └── ShellParams.groovy
</code></pre>
<h3 id="52-separation-of-concerns-begins">5.2 Separation of Concerns Begins</h3>
<ul>
<li><strong>Before</strong>: sh commands written directly in Jenkinsfile</li>
<li><strong>After</strong>: sh execution abstracted in vars/, integrated logging/error handling</li>
</ul>
<h2 id="6-core-patterns">6. Core Patterns</h2>
<h3 id="61-shell-execution-standardization">6.1 Shell Execution Standardization</h3>
<pre><code class="language-groovy">// Before (inside Jenkinsfile)
sh 'git fetch origin'

// After (using vars/helperShellScript.groovy)
helperShellScript.execute([
    script: 'git fetch origin',
    label: 'Fetch origin branches'
])
</code></pre>
<h3 id="62-stage-modularization">6.2 Stage Modularization</h3>
<pre><code class="language-groovy">// Before (logic written inside Jenkinsfile)
stage('Initialization') {
    steps {
        script {
            // 10-20 lines of initialization code
        }
    }
}

// After (calling vars/stageInitialization.groovy)
stage('Initialization') {
    steps {
        stageInitialization()
    }
}
</code></pre>
<h2 id="7-benefits">7. Benefits</h2>
<ol>
<li><strong>Code Reuse</strong>: All pipelines use the same Shell execution logic</li>
<li><strong>Consistent Logging</strong>: Automatically outputs label during Shell execution</li>
<li><strong>Integrated Error Handling</strong>: Same error handling for all Shell executions</li>
<li><strong>Testability</strong>: Separated modules can be unit tested</li>
</ol>
<hr />
<h2 id="8-next-steps">8. Next Steps</h2>
<p>→ Phase 2: 3-Level Logger System Implementation</p>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-groovy.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>
  
  <script src="../../../js/nav.js"></script>
</body>
</html>