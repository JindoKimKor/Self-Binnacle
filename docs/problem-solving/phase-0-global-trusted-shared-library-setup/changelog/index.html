<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="2. [Commit List (by Phase)](#2-commit-list-by-phase)">
  <meta name="author" content="Jindo Kim">
  <title>Phase 0: Global Trusted Shared Library Setup | Post-Refactoring Analysis</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Mono:wght@400;700&display=swap">
  <link rel="stylesheet" href="../../../css/portfolio-theme.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
  <!-- Mobile hamburger -->
  <button class="nav-toggle" aria-label="Toggle navigation">
    <span></span><span></span><span></span>
  </button>

  <!-- Sidebar overlay (mobile) -->
  <div class="nav-overlay"></div>

  <!-- Sidebar navigation -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="../../../">Post-Refactoring Analysis</a>
    </div>
    <div class="sidebar-content">
      <ul class="nav-tree"><li class="nav-depth-1"><a href="../../../" class="nav-link">Home</a></li><li class="nav-depth-1"><button class="nav-section-btn">Problem Analysis</button><ul class="nav-children"><li class="nav-depth-2"><a href="../../../problem-analysis/problem-analysis-overview/" class="nav-link">Problem Analysis Overview</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/detailed-analysis/" class="nav-link">Detailed Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/architecture-smells-analysis/" class="nav-link">Architecture Smells Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-analysis/DRY-violation-analysis/" class="nav-link">DRY Violation Analysis</a></li><li class="nav-depth-2"><button class="nav-section-btn">Pipeline Sequence Diagrams</button><ul class="nav-children"><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/domain-mapping/" class="nav-link">Domain Mapping</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/dlx-ci/" class="nav-link">DLXJenkins CI</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/dlx-cd/" class="nav-link">DLXJenkins CD</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/js-ci/" class="nav-link">JsJenkins CI</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/js-cd/" class="nav-link">JsJenkins CD</a></li><li class="nav-depth-3"><a href="../../../problem-analysis/pipeline-sequence-diagrams/jenkins-ci/" class="nav-link">PipelineForJenkins CI</a></li></ul></li><li class="nav-depth-2"><button class="nav-section-btn">Per-File Analysis</button><ul class="nav-children"><li class="nav-depth-3"><button class="nav-section-btn">generalHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/01-generalHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">jsHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/02-jsHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">unityHelper</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/03-unityHelper/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/04-DLXJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">DLXJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/05-DLXJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/06-JsJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">JsJenkins-JenkinsfileDeployment</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/07-JsJenkins-JenkinsfileDeployment/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li><li class="nav-depth-3"><button class="nav-section-btn">PipelineForJenkins-Jenkinsfile</button><ul class="nav-children"><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/01-srp-violation-analysis/" class="nav-link">SRP Violation Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/02-software-smells-analysis/" class="nav-link">Software Smells Analysis</a></li><li class="nav-depth-4"><a href="../../../problem-analysis/08-PipelineForJenkins-Jenkinsfile/03-design-smells-symptoms/" class="nav-link">Design Smells Analysis</a></li></ul></li></ul></li></ul></li><li class="nav-depth-1"><button class="nav-section-btn expanded">Problem Solving</button><ul class="nav-children"><li class="nav-depth-2"><a href="../../../problem-solving/solution-overview/" class="nav-link">Solution Overview</a></li><li class="nav-depth-2"><a href="../../../problem-solving/solution-by-layer/" class="nav-link">Solution by Layer</a></li><li class="nav-depth-2"><a href="../../../problem-solving/solution-by-feature/" class="nav-link">Solution by Feature</a></li><li class="nav-depth-2"><a href="../../../problem-solving/logger-system-design-integration/" class="nav-link">Logger System Design and Integration</a></li><li class="nav-depth-2"><a href="../../../problem-solving/domain-driven-analysis/" class="nav-link">Domain-Driven Analysis</a></li><li class="nav-depth-2"><a href="../../../problem-solving/jenkins-cps-serialization-diagram/" class="nav-link">Jenkins CPS Serialization Diagram</a></li><li class="nav-depth-2"><a href="../../../problem-solving/pull-request-documentation/" class="nav-link">Pull Request Documentation</a></li><li class="nav-depth-2"><button class="nav-section-btn expanded">Implementation Phases</button><ul class="nav-children"><li class="nav-depth-3"><a href="../../../problem-solving/phase-0-global-trusted-shared-library-setup/changelog/" class="nav-link active">Phase 0 - Global Trusted Shared Library Setup</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-1-shellscript-modularization-and-initialization-stage/changelog/" class="nav-link">Phase 1 - Shell Script Modularization and Initialization Stage</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-2-3-level-logger-system-implementation/changelog/" class="nav-link">Phase 2 - 3-Level Logger System Implementation</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-3-bitbucket-api-and-shell-library-integration/changelog/" class="nav-link">Phase 3 - Bitbucket API and Shell Library Integration</a></li><li class="nav-depth-3"><a href="../../../problem-solving/phase-4-full-pipeline-refactoring-and-stage-modularization/changelog/" class="nav-link">Phase 4 - Full Pipeline Refactoring and Stage Modularization</a></li></ul></li></ul></li></ul>
    </div>
  </nav>

  <!-- Main content -->
  <main class="content">
    <div class="container">
      <h1 id="phase-0-global-trusted-shared-library-setup">Phase 0: Global Trusted Shared Library Setup</h1>
<h2 id="basic-information">Basic Information</h2>
<table>
<thead>
<tr>
<th>Item</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Baseline</strong></td>
<td><code>74fc356</code> (2025-03-20)</td>
</tr>
<tr>
<td><strong>Final</strong></td>
<td><code>3c6422c</code> (2025-04-24)</td>
</tr>
<tr>
<td><strong>Total Commits</strong></td>
<td>40</td>
</tr>
<tr>
<td><strong>Duration</strong></td>
<td>2025-03-21 ~ 2025-04-24 (approximately 1 month)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#1-goal">Goal</a></li>
<li><a href="#2-commit-list-by-phase">Commit List (by Phase)</a></li>
<li><a href="#3-phase-by-phase-detailed-analysis">Phase-by-Phase Detailed Analysis</a></li>
<li>3.1 <a href="#31-phase-1-shared-library-folder-structure-exploration-core-1543">Phase 1: Shared Library Folder Structure Exploration</a></li>
<li>3.2 <a href="#32-phase-2-shared-library-call-test-core-1526">Phase 2: Shared Library Call Test</a></li>
<li>3.3 <a href="#33-phase-3-service-layer-construction-core-1547">Phase 3: Service Layer Construction</a></li>
<li>3.4 <a href="#34-phase-4-global-library-configuration-test">Phase 4: Global Library Configuration Test</a></li>
<li>3.5 <a href="#35-phase-5-full-implementation-implement-global-trusted-shared-library">Phase 5: Full Implementation</a></li>
<li><a href="#4-beforeafter-comparison">Before/After Comparison</a></li>
<li><a href="#5-design-decisions">Design Decisions</a></li>
<li><a href="#6-next-steps">Next Steps</a></li>
</ol>
<hr />
<h2 id="1-goal">1. Goal</h2>
<p>Build Jenkins Global Trusted Shared Library foundation</p>
<hr />
<h2 id="2-commit-list-by-phase">2. Commit List (by Phase)</h2>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Content</th>
<th>Commit Count</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Shared Library Folder Structure Exploration (2025-03-21)</td>
<td>4</td>
</tr>
<tr>
<td>2</td>
<td>Shared Library Call Test (2025-03-27)</td>
<td>6</td>
</tr>
<tr>
<td>3</td>
<td>Service Layer Construction (2025-03-31 ~ 2025-04-01)</td>
<td>8</td>
</tr>
<tr>
<td>4</td>
<td>Global Library Configuration Test (2025-04-13)</td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td>Full Implementation (2025-04-21 ~ 2025-04-24)</td>
<td>22</td>
</tr>
</tbody>
</table>
<details>
<summary><strong>Phase 1: Shared Library Folder Structure Exploration (4 commits)</strong></summary>
<table>
<thead>
<tr>
<th>Date</th>
<th>Commit</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-03-21</td>
<td><code>bfab15f</code></td>
<td>Test Shared Library</td>
</tr>
<tr>
<td>2025-03-21</td>
<td><code>62c03c2</code></td>
<td>Fix shared library path</td>
</tr>
<tr>
<td>2025-03-21</td>
<td><code>c509fa0</code></td>
<td>Fixed shared library path</td>
</tr>
<tr>
<td>2025-03-21</td>
<td><code>3be0817</code></td>
<td>Final Try</td>
</tr>
</tbody>
</table>
</details>
<details>
<summary><strong>Phase 2: Shared Library Call Test (6 commits)</strong></summary>
<table>
<thead>
<tr>
<th>Date</th>
<th>Commit</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-03-27</td>
<td><code>144fe00</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-03-27</td>
<td><code>eacdcce</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-03-27</td>
<td><code>7aa3ff4</code></td>
<td>Fixed</td>
</tr>
<tr>
<td>2025-03-27</td>
<td><code>04ea7e0</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-03-27</td>
<td><code>8f14918</code></td>
<td>ests</td>
</tr>
<tr>
<td>2025-03-27</td>
<td><code>8d17c86</code></td>
<td>asdf</td>
</tr>
</tbody>
</table>
</details>
<details>
<summary><strong>Phase 3: Service Layer Construction (8 commits)</strong></summary>
<table>
<thead>
<tr>
<th>Date</th>
<th>Commit</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-03-31</td>
<td><code>e9d184b</code></td>
<td>Add new package GitLFSHelper</td>
</tr>
<tr>
<td>2025-03-31</td>
<td><code>29fb14d</code></td>
<td>Add new package GitLFSHelper</td>
</tr>
<tr>
<td>2025-04-01</td>
<td><code>76e5586</code></td>
<td>Added GitLFSHelper to its test</td>
</tr>
<tr>
<td>2025-04-01</td>
<td><code>1b7981c</code></td>
<td>Use different mocking framework for unit testing</td>
</tr>
<tr>
<td>2025-04-01</td>
<td><code>a6d6547</code></td>
<td>Refactor CheckIfLightAndReflectionFilesExist to be a shared library</td>
</tr>
<tr>
<td>2025-04-01</td>
<td><code>107ab3a</code></td>
<td>Re-categorize GitLFSHelper and LightAndReflectionFileChecker</td>
</tr>
<tr>
<td>2025-04-01</td>
<td><code>19a296f</code></td>
<td>Modified Infrastructure of Shared Library</td>
</tr>
<tr>
<td>2025-04-01</td>
<td><code>abbac32</code></td>
<td>Modified BuildProjectService.groovy</td>
</tr>
</tbody>
</table>
</details>
<details>
<summary><strong>Phase 4: Global Library Configuration Test (3 commits)</strong></summary>
<table>
<thead>
<tr>
<th>Date</th>
<th>Commit</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-04-13</td>
<td><code>18f9bbb</code></td>
<td>Try to assign the shared library files to the correct location</td>
</tr>
<tr>
<td>2025-04-13</td>
<td><code>d68c0c7</code></td>
<td>test global library</td>
</tr>
<tr>
<td>2025-04-13</td>
<td><code>e15ea80</code></td>
<td>test</td>
</tr>
</tbody>
</table>
</details>
<details>
<summary><strong>Phase 5: Full Implementation (22 commits)</strong></summary>
<table>
<thead>
<tr>
<th>Date</th>
<th>Commit</th>
<th>Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>2025-04-21</td>
<td><code>d0ed2e2</code></td>
<td>Global Library Test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>cdf4b36</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>09adc72</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>2324c2e</code></td>
<td>teest</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>befd0f0</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>cb42797</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>eb45331</code></td>
<td>test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>7c15211</code></td>
<td>Test</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>c47b663</code></td>
<td>Delete Load Shared Library Stage after managing Global Trusted Library Configuration worked</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>c33334c</code></td>
<td>Renamed my-simple-lib to global-trusted-shared-library</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>0af1ac2</code></td>
<td>Refactoring DLX-PR pipeline implementing the Global Trusted Shared Library</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>323823c</code></td>
<td>Try a different way to use 'new' operator</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>183feab</code></td>
<td>Modifed other way to call new operator in PR-DLX pipeline</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>6df93e4</code></td>
<td>Implement Global Trusted Shared Library for Deployment-DLX pipeline</td>
</tr>
<tr>
<td>2025-04-21</td>
<td><code>5ccb037</code></td>
<td>Implement Global Trusted Shared Library for JavaScript Deployment Pipeline</td>
</tr>
<tr>
<td>2025-04-23</td>
<td><code>77c024a</code></td>
<td>Delete Optional filter to test executing pipeline run by repo push trigger</td>
</tr>
<tr>
<td>2025-04-24</td>
<td><code>99708f4</code></td>
<td>vars test</td>
</tr>
<tr>
<td>2025-04-24</td>
<td><code>9f2cc5d</code></td>
<td>vars test</td>
</tr>
<tr>
<td>2025-04-24</td>
<td><code>91cf049</code></td>
<td>vars Test with Library branch change</td>
</tr>
<tr>
<td>2025-04-24</td>
<td><code>fa0a5be</code></td>
<td>Revert "Delete Optional filter to test executing pipeline run by repo push trigger"</td>
</tr>
<tr>
<td>2025-04-24</td>
<td><code>ddb5bd0</code></td>
<td>Revert "vars test"</td>
</tr>
<tr>
<td>2025-04-24</td>
<td><code>3c6422c</code></td>
<td>Revert "vars test"</td>
</tr>
</tbody>
</table>
</details>
<hr />
<h2 id="3-phase-by-phase-detailed-analysis">3. Phase-by-Phase Detailed Analysis</h2>
<h3 id="31-phase-1-shared-library-folder-structure-exploration-core-1543">3.1 Phase 1: Shared Library Folder Structure Exploration (CORE-1543)</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Duration</strong>: 2025-03-21 (4 commits)</p>
<p><strong>Goal</strong>: Establish folder structure for Jenkins Shared Library introduction</p>
<h4 id="problem-solving-process">Problem Solving Process</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Attempt</th>
<th>Problem</th>
<th>Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bfab15f</code></td>
<td>Created <code>sharedLibraries/resource/StageResults.groovy</code></td>
<td>Jenkins doesn't recognize class</td>
<td>-</td>
</tr>
<tr>
<td><code>62c03c2</code></td>
<td>Moved <code>sharedLibraries/resource/</code> → <code>src/resource/</code></td>
<td>Still not recognized</td>
<td>Jenkins recognizes <code>src/</code> folder as classpath</td>
</tr>
<tr>
<td><code>c509fa0</code></td>
<td>Moved <code>src/resource/</code> → <code>sharedLibraries/src/resource/</code></td>
<td>-</td>
<td>Need <code>sharedLibraries/src/</code> structure under repository</td>
</tr>
<tr>
<td><code>3be0817</code></td>
<td>Refactored <code>StageResults</code> → <code>ResultStatus</code></td>
<td>-</td>
<td>Separated Stage status and Build status, specified <code>static final</code> type</td>
</tr>
</tbody>
</table>
<h4 id="code-changes">Code Changes</h4>
<p><strong>Before</strong> (<code>bfab15f</code>):</p>
<pre><code class="language-groovy">// sharedLibraries/resource/StageResults.groovy
package resource

class StageResults {
    static def stageResults = [
        'SUCCESS': 'SUCCESS',
        'FAILURE': 'FAILURE',
        'ABORTED': 'ABORTED',
        'SKIPPED': 'SKIPPED'
    ]
}
</code></pre>
<p><strong>After</strong> (<code>3be0817</code>):</p>
<pre><code class="language-groovy">// sharedLibraries/src/resource/ResultStatus.groovy
package resource

class ResultStatus {
    static final Map&lt;String, String&gt; STAGE_STATUS = [
        'SUCCESS': 'SUCCESS',
        'FAILURE': 'FAILURE',
        'ABORTED': 'ABORTED',
        'SKIPPED': 'SKIPPED'
    ]

    static final Map&lt;String, String&gt; BUILD_STATUS = [
        'SUCCESS': 'SUCCESS',
        'UNSTABLE': 'UNSTABLE',
        'FAILURE': 'FAILURE',
        'ABORTED': 'ABORTED',
        'NOT_BUILT': 'NOT_BUILT'
    ]
}
</code></pre>
</details>
<hr />
<h3 id="32-phase-2-shared-library-call-test-core-1526">3.2 Phase 2: Shared Library Call Test (CORE-1526)</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Duration</strong>: 2025-03-27 (6 commits)</p>
<p><strong>Goal</strong>: Test how to call Shared Library classes from Jenkinsfile</p>
<h4 id="test-content">Test Content</h4>
<p>Added/modified various <code>call()</code> methods to <code>ResultStatus.groovy</code>:</p>
<pre><code class="language-groovy">// Attempt 1: void method
void Call() {
    each &quot;Here&quot;
}

// Attempt 2: parameter + return
void call(String param) {
    return param
}

// Attempt 3: constructor + instance variable
private String test

ResultStatus(String test) {
    this.test = test
}

void call() {
    return this.test
}
</code></pre>
<p><strong>Learning Points</strong>:
- Scripts in <code>vars/</code> folder can be called directly via <code>call()</code> method
- Classes in <code>src/</code> folder are used via <code>new ClassName()</code> or <code>import</code></p>
</details>
<hr />
<h3 id="33-phase-3-service-layer-construction-core-1547">3.3 Phase 3: Service Layer Construction (CORE-1547)</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Duration</strong>: 2025-03-31 ~ 2025-04-01 (8 commits)</p>
<p><strong>Goal</strong>: Build Service class for Git LFS problem resolution</p>
<h4 id="problem-situation">Problem Situation</h4>
<ol>
<li><strong>Git LFS File Missing</strong>: LFS-managed files (images, audio) not checked out during pipeline execution</li>
<li><strong>Unity Lighting File Missing</strong>: WebGL build lighting breaks without <code>LightingData.asset</code>, <code>ReflectionProbe-0.exr</code> files</li>
</ol>
<h4 id="solution-process">Solution Process</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Changes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>e9d184b</code></td>
<td>Created <code>GitLFSHelper.groovy</code> - Auto pull logic for LFS files</td>
</tr>
<tr>
<td><code>a6d6547</code></td>
<td>Created <code>CheckIfLightAndReflectionFilesExist.groovy</code> - Lighting file verification</td>
</tr>
<tr>
<td><code>107ab3a</code></td>
<td>Folder structure reorganization: <code>service/general/prepareWorkspace/</code>, <code>service/unity/buildProject/</code></td>
</tr>
<tr>
<td><code>19a296f</code></td>
<td>Integrated Helper → Service: <code>PrepareWorkspaceService</code>, <code>BuildProjectService</code></td>
</tr>
</tbody>
</table>
<h4 id="code-changes_1">Code Changes</h4>
<p><strong>GitLFSHelper Core Logic</strong> (<code>e9d184b</code>):</p>
<pre><code class="language-groovy">void checkAndPullUntrackedLFSFiles() {
    try {
        // Check files managed by LFS but not yet downloaded
        String missingFiles = script.sh(
            script: &quot;git lfs ls-files | awk '\$2 == \&quot;-\&quot; {print \$3}'&quot;,
            returnStdout: true
        ).trim()

        if (missingFiles) {
            script.echo &quot;Untracked large files detected: ${missingFiles}&quot;
            script.sh 'git lfs pull'
        }
    } catch (Exception e) {
        script.echo &quot;Failed to check for untracked LFS files: ${e.message}&quot;
    }
}
</code></pre>
<p><strong>Folder Structure Evolution</strong>:</p>
<pre><code>Attempt 1: service/general/GitLFSHelper.groovy
Attempt 2: service/general/prepareWorkspace/GitLFSHelper.groovy
Attempt 3: service/unity/buildProject/LightAndReflectionFileChecker.groovy
Final:     service/general/PrepareWorkspaceService.groovy
           service/unity/BuildProjectService.groovy
</code></pre>
<p><strong>Learning Points</strong>:
- Integrated Helper classes into Service classes for domain-based responsibility separation
- Inject <code>script</code> object via constructor to access Jenkins Pipeline context</p>
</details>
<hr />
<h3 id="34-phase-4-global-library-configuration-test">3.4 Phase 4: Global Library Configuration Test</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Duration</strong>: 2025-04-13 (3 commits)</p>
<p><strong>Goal</strong>: Test Jenkins Global Library Configuration settings</p>
<h4 id="test-content_1">Test Content</h4>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Change</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>18f9bbb</code></td>
<td>Deleted all files in sharedLibraries (-99 lines)</td>
<td>Test if file location affects Global Library recognition</td>
</tr>
<tr>
<td><code>d68c0c7</code></td>
<td>Restored files (+99 lines)</td>
<td>Verify recognition after restoration</td>
</tr>
<tr>
<td><code>e15ea80</code></td>
<td>Deleted again (-99 lines)</td>
<td>Test different configuration combinations</td>
</tr>
</tbody>
</table>
<p><strong>Learning Points</strong>:
- Configuration needed in Jenkins &gt; Manage Jenkins &gt; Configure System &gt; Global Pipeline Libraries
- Specify Library name, Git Repository URL, Default Version (branch)
- Learned that Library type and Version Control is possible through Library settings</p>
</details>
<hr />
<h3 id="35-phase-5-full-implementation-implement-global-trusted-shared-library">3.5 Phase 5: Full Implementation (Implement-Global-Trusted-Shared-Library)</h3>
<details>
<summary><strong>View Details</strong></summary>
<p><strong>Duration</strong>: 2025-04-21 ~ 2025-04-24 (22 commits)</p>
<p><strong>Goal</strong>: Apply Global Trusted Shared Library to 5 pipelines</p>
<h4 id="implementation-steps">Implementation Steps</h4>
<h5 id="step-1-vars-test-d0ed2e2">Step 1: vars/ Test (<code>d0ed2e2</code>)</h5>
<pre><code class="language-groovy">// sharedLibraries/vars/sayHello.groovy
def call(String name = 'World') {
    echo &quot;Hello, ${name}! This message came from the global library.&quot;
}
</code></pre>
<p>Verified <code>@Library('my-simple-lib@main') _</code> works in Jenkins Global Configuration.</p>
<h5 id="step-2-delete-load-shared-library-stage-c47b663">Step 2: Delete Load Shared Library Stage (<code>c47b663</code>)</h5>
<p><strong>Before</strong> (-63 lines):</p>
<pre><code class="language-groovy">def sharedLib
def resultStatus

stage('Load Shared Library') {
    steps {
        script {
            def LIBRARY_PATH = 'sharedLibraries'
            sh &quot;&quot;&quot;
                cd ${WORKSPACE}/${LIBRARY_PATH} &amp;&amp; \
                (rm -rf .git || true) &amp;&amp; \
                git init &amp;&amp; \
                git add --all &amp;&amp; \
                git commit -m 'init'
            &quot;&quot;&quot;
            def repoPath = sh(returnStdout: true, script: 'pwd').trim() + &quot;/${LIBRARY_PATH}&quot;
            sharedLib = library identifier: 'local-lib@master',
                    retriever: modernSCM([$class: 'GitSCMSource', remote: &quot;${repoPath}&quot;]),
                    changelog: false
        }
    }
}

// Usage
resultStatus = sharedLib.resource.ResultStatus
currentBuild.result = resultStatus.BUILD_STATUS.ABORTED
</code></pre>
<p><strong>After</strong> (+6 lines):</p>
<pre><code class="language-groovy">@Library('my-simple-lib@main') _

import resource.ResultStatus

// Usage
currentBuild.result = ResultStatus.BUILD_STATUS.ABORTED
</code></pre>
<h5 id="step-3-new-operator-syntax-fix-323823c">Step 3: new Operator Syntax Fix (<code>323823c</code>)</h5>
<p><strong>Before</strong> (Local Library approach):</p>
<pre><code class="language-groovy">prepareWorkspaceService = sharedLib.service.general.PrepareWorkspaceService
prepareWorkspaceServiceClass = prepareWorkspaceService.new(this)
</code></pre>
<p><strong>After</strong> (Global Library approach):</p>
<pre><code class="language-groovy">import service.general.PrepareWorkspaceService

PrepareWorkspaceService prepareWorkspaceService = new PrepareWorkspaceService(this)
</code></pre>
<p><strong>Problem</strong>: With Local Library, <code>sharedLib.xxx.ClassName</code> returns a wrapped form rather than a Class object, requiring <code>.new()</code> syntax. With Global Library, direct <code>import</code> allows standard Groovy syntax.</p>
<h5 id="step-4-applied-to-5-pipelines">Step 4: Applied to 5 Pipelines</h5>
<table>
<thead>
<tr>
<th>Commit</th>
<th>Pipeline</th>
<th>Change Amount</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c47b663</code></td>
<td>PipelineForJenkins/Jenkinsfile</td>
<td>-63 lines, +6 lines</td>
</tr>
<tr>
<td><code>0af1ac2</code></td>
<td>DLXJenkins/Jenkinsfile</td>
<td>-47 lines, +11 lines</td>
</tr>
<tr>
<td><code>6df93e4</code></td>
<td>DLXJenkins/JenkinsfileDeployment</td>
<td>-53 lines</td>
</tr>
<tr>
<td><code>5ccb037</code></td>
<td>JsJenkins/Jenkinsfile, JenkinsfileDeployment</td>
<td>-86 lines</td>
</tr>
</tbody>
</table>
</details>
<hr />
<h2 id="4-beforeafter-comparison">4. Before/After Comparison</h2>
<h3 id="code-change-amount">Code Change Amount</h3>
<table>
<thead>
<tr>
<th>Item</th>
<th>Before</th>
<th>After</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>Shared Library Loading</td>
<td>~30 lines/pipeline</td>
<td>1 line</td>
<td>-29 lines</td>
</tr>
<tr>
<td>Class Usage Syntax</td>
<td><code>sharedLib.xxx.Class</code></td>
<td><code>import xxx.Class</code></td>
<td>Standard Groovy</td>
</tr>
<tr>
<td>new Operator</td>
<td><code>Class.new(this)</code></td>
<td><code>new Class(this)</code></td>
<td>Standard Groovy</td>
</tr>
</tbody>
</table>
<h3 id="folder-structure">Folder Structure</h3>
<pre><code>Before                              After
──────                              ─────
(No Shared Library)                 sharedLibraries/
                                    ├── src/
                                    │   ├── resource/
                                    │   │   └── ResultStatus.groovy
                                    │   └── service/
                                    │       ├── general/
                                    │       │   └── PrepareWorkspaceService.groovy
                                    │       └── unity/
                                    │           └── BuildProjectService.groovy
                                    └── vars/
                                        └── sayHello.groovy
</code></pre>
<hr />
<h2 id="5-design-decisions">5. Design Decisions</h2>
<h3 id="51-why-global-trusted-library">5.1 Why Global Trusted Library?</h3>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Advantages</th>
<th>Disadvantages</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Local Library</strong></td>
<td>No separate configuration needed</td>
<td>Requires git init/commit every execution, non-standard syntax</td>
</tr>
<tr>
<td><strong>Global Library</strong></td>
<td>Standard import syntax, version control possible</td>
<td>Requires Jenkins configuration</td>
</tr>
<tr>
<td><strong>Global Trusted</strong></td>
<td>No sandbox restrictions (<code>@NonCPS</code>, file I/O possible)</td>
<td>Security caution needed</td>
</tr>
</tbody>
</table>
<h3 id="52-why-trusted-is-needed">5.2 Why Trusted is Needed</h3>
<p>Features to be implemented in subsequent Phases:
- <code>@NonCPS</code> annotation usage (CPS transformation bypass)
- File I/O operations
- Direct Apache HttpClient usage</p>
<p>These features are unavailable in regular Shared Library due to sandbox restrictions.</p>
<h3 id="53-version-control">5.3 Version Control</h3>
<pre><code class="language-groovy">@Library('global-trusted-shared-library@main') _           // main branch
@Library('global-trusted-shared-library@Refactor-with-TDD') _  // development branch
@Library('global-trusted-shared-library@v1.0.0') _         // tag version
</code></pre>
<p>Branch/tag specification enables per-pipeline Library version management.</p>
<hr />
<h2 id="6-next-steps">6. Next Steps</h2>
<p>→ Phase 1: ShellScript Modularization &amp; Initialization Stage</p>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-groovy.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>
  
  <script src="../../../js/nav.js"></script>
</body>
</html>